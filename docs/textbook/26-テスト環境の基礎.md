# ç¬¬26ç« ï¼šãƒ†ã‚¹ãƒˆç’°å¢ƒã®åŸºç¤

> **ã“ã®ç« ã§ã¯ã€Jestã€React Testing Libraryã€Playwrightã‚’ä½¿ã£ãŸãƒ†ã‚¹ãƒˆç’°å¢ƒã«ã¤ã„ã¦å­¦ã³ã¾ã™**

## ğŸ“š ã“ã®ç« ã§å­¦ã¶ã“ã¨

- âœ… ãƒ†ã‚¹ãƒˆã®ç¨®é¡ï¼ˆå˜ä½“ãƒ»çµåˆãƒ»E2Eï¼‰
- âœ… Jestã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¨è¨­å®š
- âœ… React Testing Libraryã®åŸºæœ¬
- âœ… Playwrightã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- âœ… ãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹ã®åŸºæœ¬ãƒ‘ã‚¿ãƒ¼ãƒ³

---

## 26.1 ãƒ†ã‚¹ãƒˆã®ç¨®é¡ã¨ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰

```
        /\
       /  \  E2Eãƒ†ã‚¹ãƒˆï¼ˆå°‘ãªã„ï¼‰
      /â”€â”€â”€â”€\  â† é…ã„ã€é«˜ã‚³ã‚¹ãƒˆ
     /      \
    /â”€â”€â”€â”€â”€â”€â”€â”€\ çµåˆãƒ†ã‚¹ãƒˆï¼ˆä¸­ãã‚‰ã„ï¼‰
   /          \ â† ã‚„ã‚„é…ã„ã€ä¸­ã‚³ã‚¹ãƒˆ
  /â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\
 /   å˜ä½“ãƒ†ã‚¹ãƒˆ   \ â† é€Ÿã„ã€ä½ã‚³ã‚¹ãƒˆ
/    ï¼ˆå¤šã„ï¼‰      \
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

### å„ãƒ†ã‚¹ãƒˆã®ç‰¹å¾´

**1. å˜ä½“ãƒ†ã‚¹ãƒˆï¼ˆUnit Testï¼‰**
```
ã‚¹ã‚³ãƒ¼ãƒ—: 1ã¤ã®é–¢æ•°ãƒ»ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
å®Ÿè¡Œé€Ÿåº¦: âš¡ é€Ÿã„ï¼ˆãƒŸãƒªç§’ï¼‰
å¿…è¦æ•°:   ğŸ“Š å¤šã„ï¼ˆå…¨ä½“ã®70%ï¼‰

ä¾‹: formatDate() é–¢æ•°ãŒæ­£ã—ãæ—¥ä»˜ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹ã‹
```

**2. çµåˆãƒ†ã‚¹ãƒˆï¼ˆIntegration Testï¼‰**
```
ã‚¹ã‚³ãƒ¼ãƒ—: è¤‡æ•°ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ»API
å®Ÿè¡Œé€Ÿåº¦: ğŸ¢ ã‚„ã‚„é…ã„ï¼ˆæ•°ç§’ï¼‰
å¿…è¦æ•°:   ğŸ“Š ä¸­ãã‚‰ã„ï¼ˆå…¨ä½“ã®20%ï¼‰

ä¾‹: æŠ•ç¨¿ä½œæˆãƒ•ã‚©ãƒ¼ãƒ ã¨APIãŒé€£æºã—ã¦å‹•ä½œã™ã‚‹ã‹
```

**3. E2Eãƒ†ã‚¹ãƒˆï¼ˆEnd-to-End Testï¼‰**
```
ã‚¹ã‚³ãƒ¼ãƒ—: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“
å®Ÿè¡Œé€Ÿåº¦: ğŸŒ é…ã„ï¼ˆæ•°åç§’ã€œæ•°åˆ†ï¼‰
å¿…è¦æ•°:   ğŸ“Š å°‘ãªã„ï¼ˆå…¨ä½“ã®10%ï¼‰

ä¾‹: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ­ã‚°ã‚¤ãƒ³ã‹ã‚‰æŠ•ç¨¿ä½œæˆã¾ã§å®Œäº†ã§ãã‚‹ã‹
```

### ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹ï¼Ÿ                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… é‡è¦ãªæ©Ÿèƒ½                           â”‚
â”‚ âœ… ã‚ˆãä½¿ã‚ã‚Œã‚‹æ©Ÿèƒ½                     â”‚
â”‚ âœ… ãƒã‚°ãŒèµ·ãã‚„ã™ã„ç®‡æ‰€                 â”‚
â”‚ âœ… è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯                       â”‚
â”‚                                         â”‚
â”‚ âŒ å˜ç´”ã™ãã‚‹æ©Ÿèƒ½                       â”‚
â”‚ âŒ å¤‰æ›´ãŒå¤šã„ç®‡æ‰€                       â”‚
â”‚ âŒ ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 26.2 Jestã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### Jestã¨ã¯

**Jest**ã¯ã€Facebookï¼ˆMetaï¼‰ãŒé–‹ç™ºã—ãŸJavaScriptç”¨ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚

**ç‰¹å¾´:**
- âš¡ é«˜é€Ÿï¼ˆä¸¦åˆ—å®Ÿè¡Œï¼‰
- ğŸ”§ è¨­å®šãŒç°¡å˜ï¼ˆã‚¼ãƒ­ã‚³ãƒ³ãƒ•ã‚£ã‚°ï¼‰
- ğŸ“Š ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆå†…è”µ
- ğŸ­ ãƒ¢ãƒƒã‚¯æ©Ÿèƒ½ãŒå……å®Ÿ
- ğŸ“¸ ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãƒ†ã‚¹ãƒˆ

### å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

```bash
# Jestæœ¬ä½“ã¨React Testing Library
npm install --save-dev jest @testing-library/react @testing-library/jest-dom @testing-library/user-event

# TypeScriptã‚µãƒãƒ¼ãƒˆ
npm install --save-dev @types/jest ts-jest

# Next.jsã‚µãƒãƒ¼ãƒˆ
npm install --save-dev jest-environment-jsdom
```

### Jestè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

**jest.config.js:**

```javascript
const nextJest = require('next/jest');

const createJestConfig = nextJest({
  dir: './',
});

const customJestConfig = {
  setupFilesAfterEnv: ['<rootDir>/jest.setup.js'],
  testEnvironment: 'jest-environment-jsdom',
  moduleNameMapper: {
    '^@/(.*)$': '<rootDir>/src/$1',
  },
  testMatch: [
    '**/__tests__/**/*.test.[jt]s?(x)',
    '**/?(*.)+(spec|test).[jt]s?(x)',
  ],
  collectCoverageFrom: [
    'src/**/*.{js,jsx,ts,tsx}',
    '!src/**/*.d.ts',
    '!src/**/*.stories.tsx',
    '!src/app/layout.tsx',
  ],
  coverageThreshold: {
    global: {
      branches: 70,
      functions: 70,
      lines: 70,
      statements: 70,
    },
  },
};

module.exports = createJestConfig(customJestConfig);
```

**è¨­å®šé …ç›®ã®èª¬æ˜:**

| é …ç›® | èª¬æ˜ |
|------|------|
| `setupFilesAfterEnv` | ãƒ†ã‚¹ãƒˆå‰ã«å®Ÿè¡Œã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ« |
| `testEnvironment` | ãƒ†ã‚¹ãƒˆç’°å¢ƒï¼ˆjsdom = ãƒ–ãƒ©ã‚¦ã‚¶æ¨¡æ“¬ï¼‰ |
| `moduleNameMapper` | ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ï¼ˆ`@/` â†’ `src/`ï¼‰ |
| `testMatch` | ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ |
| `collectCoverageFrom` | ã‚«ãƒãƒ¬ãƒƒã‚¸å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ« |
| `coverageThreshold` | æœ€ä½ã‚«ãƒãƒ¬ãƒƒã‚¸ç‡ï¼ˆ70%ï¼‰ |

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«

**jest.setup.js:**

```javascript
import '@testing-library/jest-dom';

// ç’°å¢ƒå¤‰æ•°ã®ãƒ¢ãƒƒã‚¯
process.env.AUTH_URL = 'http://localhost:3000';
process.env.AUTH_SECRET = 'test-secret';
process.env.NEXTAUTH_URL = 'http://localhost:3000';
process.env.NEXTAUTH_SECRET = 'test-secret';
process.env.NEXT_PUBLIC_SUPABASE_URL = 'https://test.supabase.co';
process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'test-key';
```

**ã‚«ã‚¹ã‚¿ãƒ ãƒãƒƒãƒãƒ£ãƒ¼:**

```typescript
// @testing-library/jest-domã§ä½¿ãˆã‚‹ãƒãƒƒãƒãƒ£ãƒ¼
expect(element).toBeInTheDocument();     // DOM ã«å­˜åœ¨
expect(element).toBeVisible();           // è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹
expect(element).toHaveTextContent('OK'); // ãƒ†ã‚­ã‚¹ãƒˆå«ã‚€
expect(button).toBeDisabled();           // ç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹
expect(input).toHaveValue('test');       // input ã®å€¤
```

### package.jsonã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆè¿½åŠ 

```json
{
  "scripts": {
    "test": "jest",
    "test:watch": "jest --watch",
    "test:coverage": "jest --coverage"
  }
}
```

---

## 26.3 React Testing Libraryã®åŸºæœ¬

### React Testing Libraryã¨ã¯

**React Testing Library**ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¦–ç‚¹ã§Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚

**æ€æƒ³:**
```
âŒ å®Ÿè£…ã®è©³ç´°ã‚’ãƒ†ã‚¹ãƒˆã—ãªã„
   ï¼ˆå†…éƒ¨ã®stateã€propsãªã©ï¼‰

âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã‚‹ãƒ»æ“ä½œã™ã‚‹å†…å®¹ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹
   ï¼ˆè¡¨ç¤ºã•ã‚Œã‚‹ãƒ†ã‚­ã‚¹ãƒˆã€ãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ãªã©ï¼‰
```

### åŸºæœ¬çš„ãªAPI

**1. ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°:**

```typescript
import { render } from '@testing-library/react';

const { getByText, getByRole } = render(<Button>ã‚¯ãƒªãƒƒã‚¯</Button>);
```

**2. è¦ç´ ã®å–å¾—:**

```typescript
// ãƒ†ã‚­ã‚¹ãƒˆã§æ¤œç´¢
const button = getByText('ã‚¯ãƒªãƒƒã‚¯');

// å½¹å‰²ï¼ˆroleï¼‰ã§æ¤œç´¢
const button = getByRole('button', { name: 'ã‚¯ãƒªãƒƒã‚¯' });

// ãƒ©ãƒ™ãƒ«ã§æ¤œç´¢
const input = getByLabelText('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹');
```

**3. ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œ:**

```typescript
import { fireEvent } from '@testing-library/react';

// ã‚¯ãƒªãƒƒã‚¯
fireEvent.click(button);

// å…¥åŠ›
fireEvent.change(input, { target: { value: 'test@example.com' } });
```

**4. éåŒæœŸå‡¦ç†:**

```typescript
import { waitFor } from '@testing-library/react';

// è¦ç´ ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¾ã§å¾…ã¤
await waitFor(() => {
  expect(getByText('èª­ã¿è¾¼ã¿å®Œäº†')).toBeInTheDocument();
});
```

### ãƒ†ã‚¹ãƒˆã®åŸºæœ¬ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆAAAãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰

```typescript
test('ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ãƒ†ã‚­ã‚¹ãƒˆãŒå¤‰ã‚ã‚‹', () => {
  // Arrangeï¼ˆæº–å‚™ï¼‰
  const { getByRole, getByText } = render(<Counter />);
  const button = getByRole('button', { name: 'å¢—ã‚„ã™' });

  // Actï¼ˆå®Ÿè¡Œï¼‰
  fireEvent.click(button);

  // Assertï¼ˆæ¤œè¨¼ï¼‰
  expect(getByText('ã‚«ã‚¦ãƒ³ãƒˆ: 1')).toBeInTheDocument();
});
```

---

## 26.4 Playwrightã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### Playwrightã¨ã¯

**Playwright**ã¯ã€Microsoft ãŒé–‹ç™ºã—ãŸE2Eãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚

**ç‰¹å¾´:**
- ğŸŒ è¤‡æ•°ãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œï¼ˆChromiumã€Firefoxã€WebKitï¼‰
- âš¡ é«˜é€Ÿãƒ»å®‰å®š
- ğŸ“¹ ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆãƒ»å‹•ç”»éŒ²ç”»
- ğŸ­ è‡ªå‹•å¾…æ©Ÿï¼ˆè¦ç´ ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¾ã§å¾…ã¤ï¼‰
- ğŸ” å¼·åŠ›ãªã‚»ãƒ¬ã‚¯ã‚¿

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm init playwright@latest
```

**è³ªå•ã«ç­”ãˆã‚‹:**
```
âœ” Where to put your end-to-end tests? Â· e2e
âœ” Add a GitHub Actions workflow? Â· true
âœ” Install Playwright browsers? Â· true
```

### Playwrightè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

**playwright.config.ts:**

```typescript
import { defineConfig, devices } from '@playwright/test';

export default defineConfig({
  testDir: './e2e',
  fullyParallel: true,
  forbidOnly: !!process.env.CI,
  retries: process.env.CI ? 2 : 0,
  workers: process.env.CI ? 1 : undefined,
  reporter: 'html',
  use: {
    baseURL: 'http://localhost:3000',
    trace: 'on-first-retry',
  },

  projects: [
    {
      name: 'chromium',
      use: { ...devices['Desktop Chrome'] },
    },
    {
      name: 'firefox',
      use: { ...devices['Desktop Firefox'] },
    },
    {
      name: 'webkit',
      use: { ...devices['Desktop Safari'] },
    },
  ],

  webServer: {
    command: 'npm run dev',
    url: 'http://localhost:3000',
    reuseExistingServer: !process.env.CI,
  },
});
```

**è¨­å®šé …ç›®ã®èª¬æ˜:**

| é …ç›® | èª¬æ˜ |
|------|------|
| `testDir` | ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€ |
| `fullyParallel` | ä¸¦åˆ—å®Ÿè¡Œ |
| `retries` | å¤±æ•—æ™‚ã®ãƒªãƒˆãƒ©ã‚¤å›æ•°ï¼ˆCI: 2å›ï¼‰ |
| `workers` | ãƒ¯ãƒ¼ã‚«ãƒ¼æ•°ï¼ˆä¸¦åˆ—å®Ÿè¡Œæ•°ï¼‰ |
| `baseURL` | ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®URL |
| `trace` | ãƒˆãƒ¬ãƒ¼ã‚¹è¨˜éŒ²ï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰ |
| `projects` | ãƒ†ã‚¹ãƒˆã™ã‚‹ãƒ–ãƒ©ã‚¦ã‚¶ |
| `webServer` | é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®è‡ªå‹•èµ·å‹• |

### package.jsonã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆè¿½åŠ 

```json
{
  "scripts": {
    "test:e2e": "playwright test",
    "test:e2e:ui": "playwright test --ui",
    "test:e2e:debug": "playwright test --debug"
  }
}
```

---

## 26.5 ãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹ã®åŸºæœ¬

### å˜ä½“ãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹

**describe ã¨ it:**

```typescript
describe('formatDateé–¢æ•°', () => {
  it('æ—¥ä»˜ã‚’ YYYY-MM-DD å½¢å¼ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹', () => {
    const result = formatDate(new Date('2025-12-28'));
    expect(result).toBe('2025-12-28');
  });

  it('nullã®å ´åˆã¯ç©ºæ–‡å­—ã‚’è¿”ã™', () => {
    const result = formatDate(null);
    expect(result).toBe('');
  });
});
```

**éšå±¤æ§‹é€ :**

```
describe('formatDateé–¢æ•°')           â† ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ
  â”œâ”€ it('YYYY-MM-DDå½¢å¼')            â† ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹1
  â”‚    â””â”€ expect(...).toBe(...)     â† ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³
  â””â”€ it('nullã®å ´åˆ')                â† ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹2
       â””â”€ expect(...).toBe(...)     â† ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³
```

### E2Eãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹

**test ã¨ expect:**

```typescript
import { test, expect } from '@playwright/test';

test('ãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹', async ({ page }) => {
  // ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã«ç§»å‹•
  await page.goto('/login');

  // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›
  await page.getByLabel('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹').fill('test@example.com');
  await page.getByLabel('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰').fill('password123');

  // ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
  await page.getByRole('button', { name: 'ãƒ­ã‚°ã‚¤ãƒ³' }).click();

  // ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã«é·ç§»ã—ãŸã“ã¨ã‚’ç¢ºèª
  await expect(page).toHaveURL('/');
  await expect(page.getByText('ã‚ˆã†ã“ã')).toBeVisible();
});
```

### ãƒãƒƒãƒãƒ£ãƒ¼ï¼ˆã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ï¼‰

**Jestã®åŸºæœ¬ãƒãƒƒãƒãƒ£ãƒ¼:**

```typescript
// ç­‰ä¾¡æ€§
expect(value).toBe(expected);           // å³å¯†ç­‰ä¾¡ï¼ˆ===ï¼‰
expect(value).toEqual(expected);        // æ·±ã„ç­‰ä¾¡ï¼ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ¯”è¼ƒï¼‰

// çœŸå½å€¤
expect(value).toBeTruthy();             // trueç›¸å½“
expect(value).toBeFalsy();              // falseç›¸å½“
expect(value).toBeNull();               // null
expect(value).toBeUndefined();          // undefined

// æ•°å€¤
expect(value).toBeGreaterThan(3);       // 3ã‚ˆã‚Šå¤§ãã„
expect(value).toBeGreaterThanOrEqual(3);// 3ä»¥ä¸Š
expect(value).toBeLessThan(5);          // 5ã‚ˆã‚Šå°ã•ã„

// æ–‡å­—åˆ—
expect(str).toContain('text');          // å«ã‚€
expect(str).toMatch(/pattern/);         // æ­£è¦è¡¨ç¾ãƒãƒƒãƒ

// é…åˆ—
expect(array).toContain('item');        // è¦ç´ ã‚’å«ã‚€
expect(array).toHaveLength(3);          // é•·ã•ãŒ3

// é–¢æ•°
expect(fn).toThrow();                   // ã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ã‚‹
expect(fn).toHaveBeenCalled();          // å‘¼ã°ã‚ŒãŸ
```

**Playwrightã®ãƒãƒƒãƒãƒ£ãƒ¼:**

```typescript
// ãƒšãƒ¼ã‚¸
await expect(page).toHaveURL('/home');  // URLãŒä¸€è‡´
await expect(page).toHaveTitle('ãƒ›ãƒ¼ãƒ ');// ã‚¿ã‚¤ãƒˆãƒ«ãŒä¸€è‡´

// è¦ç´ 
await expect(element).toBeVisible();    // è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹
await expect(element).toBeHidden();     // éè¡¨ç¤º
await expect(element).toHaveText('OK'); // ãƒ†ã‚­ã‚¹ãƒˆãŒä¸€è‡´
await expect(element).toHaveCount(3);   // è¦ç´ æ•°ãŒ3
```

---

## 26.6 ã¾ã¨ã‚

ã“ã®ç« ã§å­¦ã‚“ã ã“ã¨ï¼š

1. **ãƒ†ã‚¹ãƒˆã®ç¨®é¡**: å˜ä½“ãƒ»çµåˆãƒ»E2Eã®é•ã„ã¨ä½¿ã„åˆ†ã‘
2. **Jest**: å˜ä½“ãƒ†ã‚¹ãƒˆã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
3. **React Testing Library**: Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆ
4. **Playwright**: E2Eãƒ†ã‚¹ãƒˆã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
5. **åŸºæœ¬ãƒ‘ã‚¿ãƒ¼ãƒ³**: describe, it, expect ã®ä½¿ã„æ–¹

æ¬¡ç« ä»¥é™ã§ã€å®Ÿéš›ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ†ã‚¹ãƒˆã‚’æ›¸ã„ã¦ã„ãã¾ã™ï¼

---

## ğŸ’¡ åˆå¿ƒè€…ã¸ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹

- **å°ã•ãå§‹ã‚ã‚‹**: ã¾ãšã¯ç°¡å˜ãªé–¢æ•°ã‹ã‚‰å§‹ã‚ã¾ã—ã‚‡ã†
- **å¤±æ•—ã‹ã‚‰å­¦ã¶**: ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã™ã‚‹ã®ã¯æ­£å¸¸ã§ã™ã€‚ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’èª­ã‚“ã§ä¿®æ­£ã—ã¾ã—ã‚‡ã†
- **TDDï¼ˆãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºï¼‰**: ãƒ†ã‚¹ãƒˆã‚’å…ˆã«æ›¸ãæ–¹æ³•ã‚‚ã‚ã‚Šã¾ã™ã€‚æ…£ã‚Œã¦ããŸã‚‰è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†
- **ã‚«ãƒãƒ¬ãƒƒã‚¸ã¯ç›®å®‰**: 100%ã‚’ç›®æŒ‡ã™å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚é‡è¦ãªéƒ¨åˆ†ã‚’å„ªå…ˆã—ã¾ã—ã‚‡ã†
