# ç¬¬26ç« ï¼šãƒ†ã‚¹ãƒˆç’°å¢ƒã®åŸºç¤

> **ã“ã®ç« ã§ã¯ã€Jestã€React Testing Libraryã€Playwrightã‚’ä½¿ã£ãŸãƒ†ã‚¹ãƒˆç’°å¢ƒã«ã¤ã„ã¦å­¦ã³ã¾ã™**

## ğŸ“š ã“ã®ç« ã§å­¦ã¶ã“ã¨

- âœ… ãƒ†ã‚¹ãƒˆã®ç¨®é¡ï¼ˆå˜ä½“ãƒ»çµåˆãƒ»E2Eï¼‰
- âœ… Jestã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¨è¨­å®š
- âœ… React Testing Libraryã®åŸºæœ¬
- âœ… Playwrightã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- âœ… ãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹ã®åŸºæœ¬ãƒ‘ã‚¿ãƒ¼ãƒ³

---

## 26.1 ãƒ†ã‚¹ãƒˆã®ç¨®é¡ã¨ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ãªãœãƒ†ã‚¹ãƒˆãŒå¿…è¦ãªã®ï¼Ÿ

**ãƒ†ã‚¹ãƒˆãªã—ã®é–‹ç™º:**
```
é–‹ç™ºè€…: æ–°æ©Ÿèƒ½ã‚’è¿½åŠ ã—ãŸï¼å®Œç’§ï¼ ğŸ‰
ãƒ¦ãƒ¼ã‚¶ãƒ¼: ãƒ­ã‚°ã‚¤ãƒ³ã§ããªã„... ğŸ˜­
é–‹ç™ºè€…: ãˆã£ï¼ï¼Ÿ æ–°æ©Ÿèƒ½ã®ã›ã„ã§å‰ã®æ©Ÿèƒ½ãŒå£Šã‚ŒãŸ... ğŸ˜±
```

**ãƒ†ã‚¹ãƒˆã‚ã‚Šã®é–‹ç™º:**
```
é–‹ç™ºè€…: æ–°æ©Ÿèƒ½ã‚’è¿½åŠ ã—ãŸï¼
é–‹ç™ºè€…: npm test ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
ãƒ†ã‚¹ãƒˆ:  âŒ ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã—ã¾ã—ãŸ
é–‹ç™ºè€…: ãŠã£ã¨ã€ä¿®æ­£ã—ã‚ˆã†ï¼
é–‹ç™ºè€…: ä¿®æ­£å®Œäº†ï¼å†åº¦ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
ãƒ†ã‚¹ãƒˆ:  âœ… å…¨ã¦ã®ãƒ†ã‚¹ãƒˆãŒæˆåŠŸï¼
é–‹ç™ºè€…: ã‚ˆã—ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã§ãã‚‹ï¼ ğŸ˜Š
```

### ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰

ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰ã¯ã€**ã©ã®ãƒ†ã‚¹ãƒˆã‚’ã©ã‚Œãã‚‰ã„æ›¸ãã¹ãã‹**ã‚’ç¤ºã™æŒ‡é‡ã§ã™ã€‚

```
        /\
       /  \  E2Eãƒ†ã‚¹ãƒˆï¼ˆå°‘ãªã„ï¼‰
      /â”€â”€â”€â”€\  â† é…ã„ã€é«˜ã‚³ã‚¹ãƒˆã€ä¸å®‰å®š
     /      \   10% ã€œ 100å€‹
    /â”€â”€â”€â”€â”€â”€â”€â”€\ çµåˆãƒ†ã‚¹ãƒˆï¼ˆä¸­ãã‚‰ã„ï¼‰
   /          \ â† ã‚„ã‚„é…ã„ã€ä¸­ã‚³ã‚¹ãƒˆ
  /    20%     \   ã€œ 200å€‹
 /â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\
/   å˜ä½“ãƒ†ã‚¹ãƒˆ   \ â† é€Ÿã„ã€ä½ã‚³ã‚¹ãƒˆã€å®‰å®š
/    ï¼ˆå¤šã„ï¼‰      \   70% ã€œ 700å€‹
/      1000å€‹       \
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

**ãªãœã“ã®å½¢ãªã®ï¼Ÿ**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               å˜ä½“ãƒ†ã‚¹ãƒˆï¼ˆåœŸå°ï¼‰                    â”‚
â”‚                                                     â”‚
â”‚  âœ… 1ãƒ†ã‚¹ãƒˆãŒ 0.01ç§’ã§å®Œäº†                         â”‚
â”‚  âœ… å¤±æ•—ã—ãŸã‚‰ã™ãåŸå› ãŒã‚ã‹ã‚‹                     â”‚
â”‚  âœ… å®‰å®šã—ã¦å‹•ã                                   â”‚
â”‚  âœ… ãŸãã•ã‚“æ›¸ã„ã¦ã‚‚å®Ÿè¡Œæ™‚é–“ãŒçŸ­ã„                 â”‚
â”‚                                                     â”‚
â”‚  â†’ ã ã‹ã‚‰ ãŸãã•ã‚“æ›¸ãï¼ ğŸ“Š                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               çµåˆãƒ†ã‚¹ãƒˆï¼ˆä¸­é–“ï¼‰                    â”‚
â”‚                                                     â”‚
â”‚  âš ï¸ 1ãƒ†ã‚¹ãƒˆãŒ 1ç§’ãã‚‰ã„ã‹ã‹ã‚‹                      â”‚
â”‚  âš ï¸ è¤‡æ•°ã®è¦ç´ ãŒçµ¡ã‚€ã®ã§åŸå› ç‰¹å®šãŒå°‘ã—å¤§å¤‰        â”‚
â”‚  âš ï¸ ãŸã¾ã«ä¸å®‰å®š                                   â”‚
â”‚                                                     â”‚
â”‚  â†’ ä¸­ãã‚‰ã„ã®æ•°ã ã‘æ›¸ã ğŸ“Š                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               E2Eãƒ†ã‚¹ãƒˆï¼ˆé ‚ä¸Šï¼‰                     â”‚
â”‚                                                     â”‚
â”‚  âŒ 1ãƒ†ã‚¹ãƒˆãŒ 30ç§’ã€œ1åˆ†ã‹ã‹ã‚‹                      â”‚
â”‚  âŒ å¤±æ•—ã—ãŸã¨ãã€ã©ã“ãŒåŸå› ã‹æ¢ã™ã®ãŒå¤§å¤‰        â”‚
â”‚  âŒ ã‚ˆãå¤±æ•—ã™ã‚‹ï¼ˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã€ã‚¿ã‚¤ãƒŸãƒ³ã‚°ç­‰ï¼‰    â”‚
â”‚  âŒ ãŸãã•ã‚“æ›¸ãã¨ä½•æ™‚é–“ã‚‚ã‹ã‹ã‚‹                   â”‚
â”‚                                                     â”‚
â”‚  â†’ é‡è¦ãªæ©Ÿèƒ½ã ã‘æ›¸ã ğŸ“Š                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å„ãƒ†ã‚¹ãƒˆã®ç‰¹å¾´

**1. å˜ä½“ãƒ†ã‚¹ãƒˆï¼ˆUnit Testï¼‰**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          å˜ä½“ãƒ†ã‚¹ãƒˆï¼ˆUnit Testï¼‰        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã‚¹ã‚³ãƒ¼ãƒ—: 1ã¤ã®é–¢æ•°ãƒ»ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ     â”‚
â”‚ å®Ÿè¡Œé€Ÿåº¦: âš¡âš¡âš¡ è¶…é€Ÿã„ï¼ˆãƒŸãƒªç§’ï¼‰       â”‚
â”‚ å¿…è¦æ•°:   ğŸ“ŠğŸ“ŠğŸ“Š å¤šã„ï¼ˆå…¨ä½“ã®70%ï¼‰     â”‚
â”‚ ä½¿ã†ãƒ„ãƒ¼ãƒ«: Jest                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¾‹: formatDate() é–¢æ•°ãŒæ­£ã—ãæ—¥ä»˜ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹ã‹

å…·ä½“çš„ãªã‚³ãƒ¼ãƒ‰:
  function formatDate(date) {
    return date.toISOString().split('T')[0];
  }
  
  test('æ—¥ä»˜ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ', () => {
    const result = formatDate(new Date('2025-12-28'));
    expect(result).toBe('2025-12-28');
  });
  â†‘ ã“ã®é–¢æ•°ã ã‘ãƒ†ã‚¹ãƒˆã™ã‚‹ï¼

ãƒ¡ãƒªãƒƒãƒˆ:
  âœ… é€Ÿã„ï¼ˆ1000å€‹ã®ãƒ†ã‚¹ãƒˆã§ã‚‚10ç§’ï¼‰
  âœ… å¤±æ•—ã—ãŸã‚‰ã™ãåŸå› ãŒã‚ã‹ã‚‹
  âœ… å®‰å®šã—ã¦ã„ã‚‹

ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ:
  âŒ é–¢æ•°åŒå£«ã®é€£æºã¯ãƒ†ã‚¹ãƒˆã§ããªã„
```

**2. çµåˆãƒ†ã‚¹ãƒˆï¼ˆIntegration Testï¼‰**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       çµåˆãƒ†ã‚¹ãƒˆï¼ˆIntegration Testï¼‰    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã‚¹ã‚³ãƒ¼ãƒ—: è¤‡æ•°ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ»API     â”‚
â”‚ å®Ÿè¡Œé€Ÿåº¦: âš¡âš¡ ã‚„ã‚„é…ã„ï¼ˆæ•°ç§’ï¼‰         â”‚
â”‚ å¿…è¦æ•°:   ğŸ“ŠğŸ“Š ä¸­ãã‚‰ã„ï¼ˆå…¨ä½“ã®20%ï¼‰   â”‚
â”‚ ä½¿ã†ãƒ„ãƒ¼ãƒ«: Jest + React Testing Libraryâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¾‹: æŠ•ç¨¿ä½œæˆãƒ•ã‚©ãƒ¼ãƒ ã¨APIãŒé€£æºã—ã¦å‹•ä½œã™ã‚‹ã‹

å…·ä½“çš„ãªã‚³ãƒ¼ãƒ‰:
  test('æŠ•ç¨¿ã‚’ä½œæˆã§ãã‚‹', async () => {
    render(<PostForm />);
    
    // ãƒ•ã‚©ãƒ¼ãƒ ã«å…¥åŠ›
    await userEvent.type(
      screen.getByLabelText('ã‚¿ã‚¤ãƒˆãƒ«'),
      'ãƒ†ã‚¹ãƒˆæŠ•ç¨¿'
    );
    
    // é€ä¿¡ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
    await userEvent.click(
      screen.getByRole('button', { name: 'æŠ•ç¨¿' })
    );
    
    // API ãŒå‘¼ã°ã‚Œã¦ã€æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
    await waitFor(() => {
      expect(screen.getByText('æŠ•ç¨¿ã—ã¾ã—ãŸ'))
        .toBeInTheDocument();
    });
  });
  â†‘ ãƒ•ã‚©ãƒ¼ãƒ  + API + è¡¨ç¤º ã‚’å…¨éƒ¨ãƒ†ã‚¹ãƒˆï¼

ãƒ¡ãƒªãƒƒãƒˆ:
  âœ… æ©Ÿèƒ½åŒå£«ã®é€£æºã‚’ãƒ†ã‚¹ãƒˆã§ãã‚‹
  âœ… E2Eã‚ˆã‚Šé€Ÿã„

ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ:
  âŒ å˜ä½“ãƒ†ã‚¹ãƒˆã‚ˆã‚Šé…ã„
  âŒ å¤±æ•—ã®åŸå› ç‰¹å®šãŒå°‘ã—å¤§å¤‰
```

**3. E2Eãƒ†ã‚¹ãƒˆï¼ˆEnd-to-End Testï¼‰**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       E2Eãƒ†ã‚¹ãƒˆï¼ˆEnd-to-End Testï¼‰      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã‚¹ã‚³ãƒ¼ãƒ—: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“          â”‚
â”‚ å®Ÿè¡Œé€Ÿåº¦: ğŸŒ é…ã„ï¼ˆæ•°åç§’ã€œæ•°åˆ†ï¼‰      â”‚
â”‚ å¿…è¦æ•°:   ğŸ“Š å°‘ãªã„ï¼ˆå…¨ä½“ã®10%ï¼‰       â”‚
â”‚ ä½¿ã†ãƒ„ãƒ¼ãƒ«: Playwright                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¾‹: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ­ã‚°ã‚¤ãƒ³ã‹ã‚‰æŠ•ç¨¿ä½œæˆã¾ã§å®Œäº†ã§ãã‚‹ã‹

å…·ä½“çš„ãªã‚³ãƒ¼ãƒ‰:
  test('æŠ•ç¨¿ä½œæˆã®å…¨ä½“ãƒ•ãƒ­ãƒ¼', async ({ page }) => {
    // 1. ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã«ç§»å‹•
    await page.goto('/login');
    
    // 2. ãƒ­ã‚°ã‚¤ãƒ³
    await page.getByLabel('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹')
      .fill('test@example.com');
    await page.getByLabel('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰')
      .fill('password');
    await page.getByRole('button', { name: 'ãƒ­ã‚°ã‚¤ãƒ³' })
      .click();
    
    // 3. æŠ•ç¨¿ä½œæˆãƒšãƒ¼ã‚¸ã«ç§»å‹•
    await page.goto('/posts/new');
    
    // 4. æŠ•ç¨¿ã‚’ä½œæˆ
    await page.getByLabel('ã‚¿ã‚¤ãƒˆãƒ«')
      .fill('ãƒ†ã‚¹ãƒˆæŠ•ç¨¿');
    await page.getByRole('button', { name: 'æŠ•ç¨¿' })
      .click();
    
    // 5. æŠ•ç¨¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
    await expect(page.getByText('ãƒ†ã‚¹ãƒˆæŠ•ç¨¿'))
      .toBeVisible();
  });
  â†‘ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ“ä½œã‚’æœ€åˆã‹ã‚‰æœ€å¾Œã¾ã§å…¨éƒ¨ãƒ†ã‚¹ãƒˆï¼

ãƒ¡ãƒªãƒƒãƒˆ:
  âœ… å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’ãƒ†ã‚¹ãƒˆã§ãã‚‹
  âœ… æœ¬ç‰©ã®ãƒ–ãƒ©ã‚¦ã‚¶ã§å‹•ä½œç¢ºèª

ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ:
  âŒ é…ã„ï¼ˆ10å€‹ã§5åˆ†ã‹ã‹ã‚‹ã“ã¨ã‚‚ï¼‰
  âŒ å¤±æ•—ã®åŸå› ç‰¹å®šãŒå¤§å¤‰
  âŒ ä¸å®‰å®šï¼ˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã€ã‚¿ã‚¤ãƒŸãƒ³ã‚°ç­‰ï¼‰
```

### ãƒ†ã‚¹ãƒˆã®ä½¿ã„åˆ†ã‘ï¼ˆå®Ÿä¾‹ï¼‰

**ã‚±ãƒ¼ã‚¹1: formatDate() é–¢æ•°**
```
function formatDate(date: Date | null): string {
  if (!date) return '';
  return date.toISOString().split('T')[0];
}

âœ… å˜ä½“ãƒ†ã‚¹ãƒˆã§ååˆ†ï¼
ç†ç”±: 1ã¤ã®é–¢æ•°ã ã‘ã€ä»–ã«ä¾å­˜ã—ãªã„

test('formatDate', () => {
  expect(formatDate(new Date('2025-12-28')))
    .toBe('2025-12-28');
  expect(formatDate(null)).toBe('');
});
```

**ã‚±ãƒ¼ã‚¹2: LikeButton ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**
```
function LikeButton({ postId }) {
  const [liked, setLiked] = useState(false);
  const handleClick = async () => {
    await likePost(postId);  // â† APIå‘¼ã³å‡ºã—
    setLiked(true);
  };
  return <button onClick={handleClick}>â¤ï¸</button>;
}

âœ… çµåˆãƒ†ã‚¹ãƒˆãŒè‰¯ã„ï¼
ç†ç”±: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ + API ã®é€£æº

test('LikeButton', async () => {
  render(<LikeButton postId={1} />);
  await userEvent.click(screen.getByRole('button'));
  // API ãŒå‘¼ã°ã‚Œã¦ã€çŠ¶æ…‹ãŒå¤‰ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
});
```

**ã‚±ãƒ¼ã‚¹3: ãƒ­ã‚°ã‚¤ãƒ³ â†’ æŠ•ç¨¿ä½œæˆã®æµã‚Œ**
```
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚„ã‚‹ã“ã¨:
1. ãƒ­ã‚°ã‚¤ãƒ³
2. ãƒ›ãƒ¼ãƒ ã«ç§»å‹•
3. æŠ•ç¨¿ä½œæˆãƒšãƒ¼ã‚¸ã«ç§»å‹•
4. æŠ•ç¨¿ã‚’ä½œæˆ
5. æŠ•ç¨¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹

âœ… E2Eãƒ†ã‚¹ãƒˆãŒå¿…è¦ï¼
ç†ç”±: è¤‡æ•°ãƒšãƒ¼ã‚¸ã«ã¾ãŸãŒã‚‹ã€é‡è¦ãªæ©Ÿèƒ½

test('æŠ•ç¨¿ä½œæˆãƒ•ãƒ­ãƒ¼', async ({ page }) => {
  await page.goto('/login');
  // ... ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†
  await page.goto('/posts/new');
  // ... æŠ•ç¨¿ä½œæˆ
  await expect(page.getByText('æŠ•ç¨¿ã—ã¾ã—ãŸ'))
    .toBeVisible();
});
```

### ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹ï¼Ÿ                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… é‡è¦ãªæ©Ÿèƒ½                           â”‚
â”‚ âœ… ã‚ˆãä½¿ã‚ã‚Œã‚‹æ©Ÿèƒ½                     â”‚
â”‚ âœ… ãƒã‚°ãŒèµ·ãã‚„ã™ã„ç®‡æ‰€                 â”‚
â”‚ âœ… è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯                       â”‚
â”‚                                         â”‚
â”‚ âŒ å˜ç´”ã™ãã‚‹æ©Ÿèƒ½                       â”‚
â”‚ âŒ å¤‰æ›´ãŒå¤šã„ç®‡æ‰€                       â”‚
â”‚ âŒ ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 26.2 Jestã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### Jestã¨ã¯ï¼Ÿ

**Jest**ã¯ã€Facebookï¼ˆMetaï¼‰ãŒé–‹ç™ºã—ãŸ**JavaScriptç”¨ã®ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**ã§ã™ã€‚

#### ğŸ“– ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã£ã¦ä½•ï¼Ÿ

ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã¯ã€**ã‚³ãƒ¼ãƒ‰ãŒæ­£ã—ãå‹•ãã‹è‡ªå‹•ã§ãƒã‚§ãƒƒã‚¯ã™ã‚‹ãŸã‚ã®é“å…·**ã§ã™ã€‚

**ä¾‹ãˆã°ï¼š**
```typescript
// ã“ã‚“ãªé–¢æ•°ãŒã‚ã‚‹ã¨ã...
function add(a: number, b: number) {
  return a + b;
}

// æœ¬å½“ã«æ­£ã—ãå‹•ãã‹ç¢ºèªã—ãŸã„ï¼
// â†’ ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
test('è¶³ã—ç®—ãŒæ­£ã—ãå‹•ã', () => {
  expect(add(1, 2)).toBe(3);  // âœ… 1 + 2 = 3 ã«ãªã‚‹ã‹ç¢ºèª
});
```

#### ğŸ¯ Jestã®å½¹å‰²

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ã‚ãªãŸã®ã‚³ãƒ¼ãƒ‰                   â”‚
â”‚                                                     â”‚
â”‚  function add(a, b) { return a + b; }              â”‚
â”‚  function formatDate(date) { ... }                 â”‚
â”‚  function validateEmail(email) { ... }             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
                     Jestã§ãƒ†ã‚¹ãƒˆ
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰                      â”‚
â”‚                                                     â”‚
â”‚  test('addé–¢æ•°', () => {                           â”‚
â”‚    expect(add(1, 2)).toBe(3);  â† æœŸå¾…å€¤ã¨æ¯”è¼ƒ     â”‚
â”‚  });                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
                    ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     çµæœ                            â”‚
â”‚                                                     â”‚
â”‚  âœ… addé–¢æ•° ... PASSED                             â”‚
â”‚  âœ… formatDateé–¢æ•° ... PASSED                      â”‚
â”‚  âŒ validateEmailé–¢æ•° ... FAILED                   â”‚
â”‚     Expected: true                                  â”‚
â”‚     Received: false                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸŒŸ Jestã®ç‰¹å¾´ã¨åˆ©ç‚¹

**1. âš¡ é«˜é€Ÿï¼ˆä¸¦åˆ—å®Ÿè¡Œï¼‰**
```
å¾“æ¥ã®ãƒ†ã‚¹ãƒˆ:
ãƒ†ã‚¹ãƒˆ1 â†’ ãƒ†ã‚¹ãƒˆ2 â†’ ãƒ†ã‚¹ãƒˆ3 â†’ ãƒ†ã‚¹ãƒˆ4  (1åˆ†ã‹ã‹ã‚‹)

Jestã®å ´åˆ:
ãƒ†ã‚¹ãƒˆ1 â†˜
ãƒ†ã‚¹ãƒˆ2 â†’ ä¸¦åˆ—å®Ÿè¡Œï¼  (15ç§’ã§å®Œäº†)
ãƒ†ã‚¹ãƒˆ3 â†—
ãƒ†ã‚¹ãƒˆ4 â†—
```

**2. ğŸ”§ è¨­å®šãŒç°¡å˜ï¼ˆã‚¼ãƒ­ã‚³ãƒ³ãƒ•ã‚£ã‚°ï¼‰**
```
ä»–ã®ãƒ„ãƒ¼ãƒ«: è¤‡é›‘ãªè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒå¿…è¦ ğŸ˜±
Jest:       ã™ãã«ä½¿ãˆã‚‹ï¼ ğŸ˜Š

npm install jest
npm test  â† ã“ã‚Œã ã‘ã§OKï¼
```

**3. ğŸ“Š ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆå†…è”µ**

ã‚«ãƒãƒ¬ãƒƒã‚¸ = ãƒ†ã‚¹ãƒˆã§ã©ã‚Œã ã‘ã‚³ãƒ¼ãƒ‰ã‚’ãƒã‚§ãƒƒã‚¯ã§ããŸã‹

```
npm test -- --coverage

å®Ÿè¡Œçµæœ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ File           â”‚ Lines  â”‚ Branch â”‚ Funcs  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ utils.ts       â”‚ 85%    â”‚ 70%    â”‚ 80%    â”‚
â”‚ formatDate.ts  â”‚ 100%   â”‚ 100%   â”‚ 100%   â”‚ â† å®Œç’§ï¼
â”‚ validation.ts  â”‚ 60%    â”‚ 50%    â”‚ 65%    â”‚ â† ã‚‚ã£ã¨ãƒ†ã‚¹ãƒˆãŒå¿…è¦
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**4. ğŸ­ ãƒ¢ãƒƒã‚¯æ©Ÿèƒ½ãŒå……å®Ÿ**

ãƒ¢ãƒƒã‚¯ = æœ¬ç‰©ã®ä»£ã‚ã‚Šã«ä½¿ã†å½ç‰©

```typescript
// ä¾‹: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹é–¢æ•°ã‚’ãƒ†ã‚¹ãƒˆã—ãŸã„
// ã§ã‚‚ã€ãƒ†ã‚¹ãƒˆã®ãŸã³ã«æœ¬ç‰©ã®DBã‚’ä½¿ã†ã®ã¯å¤§å¤‰...

// âœ… Jestãªã‚‰ç°¡å˜ã«ãƒ¢ãƒƒã‚¯ã§ãã‚‹ï¼
const mockDB = jest.fn().mockResolvedValue({ id: 1, name: 'Test' });

// ã“ã‚Œã§æœ¬ç‰©ã®DBã‚’ä½¿ã‚ãšã«ãƒ†ã‚¹ãƒˆã§ãã‚‹ï¼
```

**5. ğŸ“¸ ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãƒ†ã‚¹ãƒˆ**

ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ = ç”»é¢ã®è¦‹ãŸç›®ã‚’ä¿å­˜ã—ã¦æ¯”è¼ƒ

```typescript
// æœ€åˆã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è¦‹ãŸç›®ã‚’ä¿å­˜
test('ãƒœã‚¿ãƒ³ã®è¦‹ãŸç›®', () => {
  const button = render(<Button>ã‚¯ãƒªãƒƒã‚¯</Button>);
  expect(button).toMatchSnapshot();  // ä¿å­˜ï¼
});

// 2å›ç›®ä»¥é™: ä¿å­˜ã—ãŸè¦‹ãŸç›®ã¨æ¯”è¼ƒ
// è¦‹ãŸç›®ãŒå¤‰ã‚ã£ã¦ã„ãŸã‚‰è­¦å‘Šã—ã¦ãã‚Œã‚‹ï¼
```

#### ğŸ’¡ ãªãœJestã‚’ä½¿ã†ã®ï¼Ÿ

**æ‰‹å‹•ãƒ†ã‚¹ãƒˆã®å•é¡Œ:**
```
é–‹ç™ºè€…: æ–°ã—ã„æ©Ÿèƒ½ã‚’è¿½åŠ ã—ãŸï¼
é–‹ç™ºè€…: ã§ã‚‚ã€å‰ã®æ©Ÿèƒ½ãŒå£Šã‚Œã¦ãªã„ã‹ç¢ºèªã—ãªã„ã¨...
é–‹ç™ºè€…: ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦... æŠ•ç¨¿ä½œæˆã—ã¦... ã‚³ãƒ¡ãƒ³ãƒˆã—ã¦...
é–‹ç™ºè€…: 30åˆ†ã‹ã‹ã£ãŸ... ç–²ã‚ŒãŸ... ğŸ˜«

ã—ã‹ã‚‚æ¯å›ã“ã®ä½œæ¥­ã‚’ç¹°ã‚Šè¿”ã™å¿…è¦ãŒã‚ã‚‹ï¼
```

**Jestã‚’ä½¿ã†ã¨:**
```
é–‹ç™ºè€…: æ–°ã—ã„æ©Ÿèƒ½ã‚’è¿½åŠ ã—ãŸï¼
é–‹ç™ºè€…: npm test  â† ã‚³ãƒãƒ³ãƒ‰1ã¤ï¼
Jest:   ãƒ†ã‚¹ãƒˆ300å€‹ã‚’10ç§’ã§å®Ÿè¡Œï¼ âœ…
Jest:   å…¨éƒ¨PASSEDï¼ å‰ã®æ©Ÿèƒ½ã‚‚å£Šã‚Œã¦ãªã„ï¼ ğŸ˜Š

æ™‚é–“çŸ­ç¸® & å®‰å¿ƒï¼
```

### å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

```bash
# Jestæœ¬ä½“ã¨React Testing Library
npm install --save-dev jest @testing-library/react @testing-library/jest-dom @testing-library/user-event

# TypeScriptã‚µãƒãƒ¼ãƒˆ
npm install --save-dev @types/jest ts-jest

# Next.jsã‚µãƒãƒ¼ãƒˆ
npm install --save-dev jest-environment-jsdom
```

### Jestè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

**jest.config.js:**

```javascript
const nextJest = require('next/jest');

const createJestConfig = nextJest({
  dir: './',
});

const customJestConfig = {
  setupFilesAfterEnv: ['<rootDir>/jest.setup.js'],
  testEnvironment: 'jest-environment-jsdom',
  moduleNameMapper: {
    '^@/(.*)$': '<rootDir>/src/$1',
  },
  testMatch: [
    '**/__tests__/**/*.test.[jt]s?(x)',
    '**/?(*.)+(spec|test).[jt]s?(x)',
  ],
  collectCoverageFrom: [
    'src/**/*.{js,jsx,ts,tsx}',
    '!src/**/*.d.ts',
    '!src/**/*.stories.tsx',
    '!src/app/layout.tsx',
  ],
  coverageThreshold: {
    global: {
      branches: 70,
      functions: 70,
      lines: 70,
      statements: 70,
    },
  },
};

module.exports = createJestConfig(customJestConfig);
```

**è¨­å®šé …ç›®ã®èª¬æ˜:**

| é …ç›® | èª¬æ˜ |
|------|------|
| `setupFilesAfterEnv` | ãƒ†ã‚¹ãƒˆå‰ã«å®Ÿè¡Œã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ« |
| `testEnvironment` | ãƒ†ã‚¹ãƒˆç’°å¢ƒï¼ˆjsdom = ãƒ–ãƒ©ã‚¦ã‚¶æ¨¡æ“¬ï¼‰ |
| `moduleNameMapper` | ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ï¼ˆ`@/` â†’ `src/`ï¼‰ |
| `testMatch` | ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ |
| `collectCoverageFrom` | ã‚«ãƒãƒ¬ãƒƒã‚¸å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ« |
| `coverageThreshold` | æœ€ä½ã‚«ãƒãƒ¬ãƒƒã‚¸ç‡ï¼ˆ70%ï¼‰ |

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«

**jest.setup.js:**

```javascript
import '@testing-library/jest-dom';

// ç’°å¢ƒå¤‰æ•°ã®ãƒ¢ãƒƒã‚¯
process.env.AUTH_URL = 'http://localhost:3000';
process.env.AUTH_SECRET = 'test-secret';
process.env.NEXTAUTH_URL = 'http://localhost:3000';
process.env.NEXTAUTH_SECRET = 'test-secret';
process.env.NEXT_PUBLIC_SUPABASE_URL = 'https://test.supabase.co';
process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'test-key';
```

**ã‚«ã‚¹ã‚¿ãƒ ãƒãƒƒãƒãƒ£ãƒ¼:**

```typescript
// @testing-library/jest-domã§ä½¿ãˆã‚‹ãƒãƒƒãƒãƒ£ãƒ¼
expect(element).toBeInTheDocument();     // DOM ã«å­˜åœ¨
expect(element).toBeVisible();           // è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹
expect(element).toHaveTextContent('OK'); // ãƒ†ã‚­ã‚¹ãƒˆå«ã‚€
expect(button).toBeDisabled();           // ç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹
expect(input).toHaveValue('test');       // input ã®å€¤
```

### package.jsonã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆè¿½åŠ 

```json
{
  "scripts": {
    "test": "jest",
    "test:watch": "jest --watch",
    "test:coverage": "jest --coverage"
  }
}
```

---

## 26.3 React Testing Libraryã®åŸºæœ¬

### React Testing Libraryã¨ã¯ï¼Ÿ

**React Testing Library**ã¯ã€**ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¦–ç‚¹ã§Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹**ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚

#### ğŸ“– ãªãœå¿…è¦ãªã®ï¼Ÿ

Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€**ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã¦æ“ä½œã™ã‚‹UI**ã§ã™ã€‚ãƒ†ã‚¹ãƒˆã‚‚åŒã˜ã‚ˆã†ã«è€ƒãˆã‚‹ã¹ãã§ã™ã€‚

```
âŒ æ‚ªã„ä¾‹: å®Ÿè£…ã®è©³ç´°ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹
ã€Œã“ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®stateãŒæ­£ã—ãæ›´æ–°ã•ã‚Œã‚‹ã‹ï¼Ÿã€
ã€Œã“ã®propsãŒæ­£ã—ãæ¸¡ã•ã‚Œã‚‹ã‹ï¼Ÿã€
â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¯é–¢ä¿‚ãªã„ï¼

âœ… è‰¯ã„ä¾‹: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¦–ç‚¹ã§ãƒ†ã‚¹ãƒˆã™ã‚‹
ã€Œãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹ï¼Ÿã€
ã€Œãƒ•ã‚©ãƒ¼ãƒ ã«å…¥åŠ›ã—ãŸã‚‰ã€é€ä¿¡ã§ãã‚‹ã‹ï¼Ÿã€
â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®Ÿéš›ã«ã‚„ã‚‹ã“ã¨ï¼
```

#### ğŸ¯ React Testing Libraryã®æ€æƒ³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              é–‹ç™ºè€…ã®è¦–ç‚¹ï¼ˆå†…éƒ¨ï¼‰                   â”‚
â”‚                                                     â”‚
â”‚  - state ã¯æ­£ã—ã„ï¼Ÿ                                â”‚
â”‚  - props ã¯æ¸¡ã£ã¦ã‚‹ï¼Ÿ                              â”‚
â”‚  - é–¢æ•°ã¯å‘¼ã°ã‚ŒãŸï¼Ÿ                                â”‚
â”‚                                                     â”‚
â”‚  â†’ å®Ÿè£…ã®è©³ç´°ã«ä¾å­˜ = å¤‰æ›´ã«å¼±ã„ âŒ               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                        VS

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¦–ç‚¹ï¼ˆå¤–éƒ¨ï¼‰                  â”‚
â”‚                                                     â”‚
â”‚  - ã“ã®ãƒœã‚¿ãƒ³ãŒè¦‹ãˆã‚‹ï¼Ÿ                            â”‚
â”‚  - ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰å‹•ãï¼Ÿ                            â”‚
â”‚  - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼Ÿ                        â”‚
â”‚                                                     â”‚
â”‚  â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã«æ³¨ç›® = å¤‰æ›´ã«å¼·ã„ âœ…             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸŒŸ React Testing Libraryã®å½¹å‰²

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ã‚ãªãŸã®Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ   â”‚
â”‚                                      â”‚
â”‚  function Button({ onClick }) {      â”‚
â”‚    return (                          â”‚
â”‚      <button onClick={onClick}>      â”‚
â”‚        ã‚¯ãƒªãƒƒã‚¯                      â”‚
â”‚      </button>                       â”‚
â”‚    );                                â”‚
â”‚  }                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
    React Testing Library ã§ãƒ†ã‚¹ãƒˆ
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰             â”‚
â”‚                                      â”‚
â”‚  test('ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {  â”‚
â”‚    render(<Button />);              â”‚
â”‚    â†‘ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æç”»           â”‚
â”‚                                      â”‚
â”‚    const button = screen            â”‚
â”‚      .getByRole('button');          â”‚
â”‚    â†‘ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã¤ã‘ã‚‹æ–¹æ³•ã§æ¤œç´¢   â”‚
â”‚                                      â”‚
â”‚    expect(button)                    â”‚
â”‚      .toBeInTheDocument();          â”‚
â”‚    â†‘ è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª           â”‚
â”‚  });                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸ’¡ å…·ä½“ä¾‹: ã„ã„ã­ãƒœã‚¿ãƒ³ã®ãƒ†ã‚¹ãƒˆ

**ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ:**
```typescript
function LikeButton() {
  const [liked, setLiked] = useState(false);
  const [count, setCount] = useState(0);

  const handleClick = () => {
    setLiked(!liked);
    setCount(count + (liked ? -1 : 1));
  };

  return (
    <button onClick={handleClick}>
      {liked ? 'â¤ï¸' : 'ğŸ¤'} {count}
    </button>
  );
}
```

**âŒ æ‚ªã„ãƒ†ã‚¹ãƒˆï¼ˆå®Ÿè£…ã®è©³ç´°ï¼‰:**
```typescript
// ã“ã‚Œã¯ãƒ€ãƒ¡ï¼ stateã‚’ç›´æ¥ãƒã‚§ãƒƒã‚¯ã—ã¦ã„ã‚‹
test('ã„ã„ã­ãƒœã‚¿ãƒ³', () => {
  const wrapper = shallow(<LikeButton />);
  expect(wrapper.state('liked')).toBe(false);  // âŒ
  wrapper.instance().handleClick();
  expect(wrapper.state('liked')).toBe(true);   // âŒ
});
```

**âœ… è‰¯ã„ãƒ†ã‚¹ãƒˆï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¦–ç‚¹ï¼‰:**
```typescript
// ã“ã‚ŒãŒã„ã„ï¼ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã‚‹ã“ã¨ãƒ»ã‚„ã‚‹ã“ã¨ã‚’ãƒ†ã‚¹ãƒˆ
test('ã„ã„ã­ãƒœã‚¿ãƒ³', () => {
  render(<LikeButton />);
  
  // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã‚‹: æœ€åˆã¯ç©ºã®ãƒãƒ¼ãƒˆ
  const button = screen.getByRole('button');
  expect(button).toHaveTextContent('ğŸ¤ 0');  // âœ…
  
  // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚„ã‚‹: ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
  fireEvent.click(button);  // âœ…
  
  // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã‚‹: ãƒãƒ¼ãƒˆãŒå¡—ã‚Šã¤ã¶ã•ã‚ŒãŸ
  expect(button).toHaveTextContent('â¤ï¸ 1');  // âœ…
});
```

#### ğŸ” ã©ã†ã‚„ã£ã¦è¦ç´ ã‚’æ¢ã™ã®ï¼Ÿ

React Testing Libraryã¯ã€**ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦ç´ ã‚’è¦‹ã¤ã‘ã‚‹æ–¹æ³•ã¨åŒã˜**æ–¹æ³•ã§æ¢ã—ã¾ã™ã€‚

```
å„ªå…ˆé †ä½ï¼ˆæ¨å¥¨ã•ã‚Œã‚‹é †ï¼‰:

1ï¸âƒ£ ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã®å½¹å‰²ï¼ˆroleï¼‰
   getByRole('button', { name: 'ãƒ­ã‚°ã‚¤ãƒ³' })
   â†’ ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼ã¨åŒã˜æ–¹æ³•ï¼

2ï¸âƒ£ ãƒ©ãƒ™ãƒ«ã®ãƒ†ã‚­ã‚¹ãƒˆ
   getByLabelText('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹')
   â†’ ãƒ•ã‚©ãƒ¼ãƒ ã‚’ä½¿ã†ã¨ãã¨åŒã˜ï¼

3ï¸âƒ£ è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ãƒ†ã‚­ã‚¹ãƒˆ
   getByText('ã‚ˆã†ã“ã')
   â†’ ç›®ã§è¦‹ã¦æ¢ã™ã®ã¨åŒã˜ï¼

4ï¸âƒ£ ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼
   getByPlaceholderText('æ¤œç´¢...')
   â†’ å…¥åŠ›æ¬„ã‚’è¦‹ã¤ã‘ã‚‹ã¨ãã¨åŒã˜ï¼

âŒ ãƒ†ã‚¹ãƒˆIDã¯æœ€å¾Œã®æ‰‹æ®µ
   getByTestId('submit-button')
   â†’ ã“ã‚Œã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¯è¦‹ãˆãªã„ï¼
```

#### ğŸ¨ ãƒ†ã‚¹ãƒˆã®æµã‚Œï¼ˆå®Ÿä¾‹ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Step 1: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æç”»          â”‚
â”‚                                         â”‚
â”‚   render(<LoginForm />);               â”‚
â”‚   â†“                                     â”‚
â”‚   ç”»é¢ã«ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ ãŒè¡¨ç¤ºã•ã‚Œã‚‹    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Step 2: è¦ç´ ã‚’æ¢ã™ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¦–ç‚¹ï¼‰ â”‚
â”‚                                         â”‚
â”‚   const emailInput =                    â”‚
â”‚     screen.getByLabelText(              â”‚
â”‚       'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹'                  â”‚
â”‚     );                                  â”‚
â”‚   â†“                                     â”‚
â”‚   ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ©ãƒ™ãƒ«ã‚’è¦‹ã¦å…¥åŠ›æ¬„ã‚’è¦‹ã¤ã‘ã‚‹â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Step 3: æ“ä½œã™ã‚‹ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¡Œå‹•ï¼‰   â”‚
â”‚                                         â”‚
â”‚   fireEvent.change(emailInput, {        â”‚
â”‚     target: {                           â”‚
â”‚       value: 'test@example.com'         â”‚
â”‚     }                                   â”‚
â”‚   });                                   â”‚
â”‚   â†“                                     â”‚
â”‚   ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã™ã‚‹    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Step 4: çµæœã‚’ç¢ºèªï¼ˆæœŸå¾…ã•ã‚Œã‚‹çµæœï¼‰ â”‚
â”‚                                         â”‚
â”‚   expect(emailInput)                    â”‚
â”‚     .toHaveValue('test@example.com');  â”‚
â”‚   â†“                                     â”‚
â”‚   ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå…¥åŠ›ã—ãŸå€¤ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸ’¡ ãªãœReact Testing Libraryã‚’ä½¿ã†ã®ï¼Ÿ

**1. å®Ÿè£…ã®å¤‰æ›´ã«å¼·ã„**
```
Before: <button className="primary" onClick={...}>é€ä¿¡</button>
After:  <button className="btn-primary" onClick={...}>é€ä¿¡</button>

âŒ className ã§ãƒ†ã‚¹ãƒˆ â†’ ãƒ†ã‚¹ãƒˆå¤±æ•—
âœ… 'button' role ã§ãƒ†ã‚¹ãƒˆ â†’ ãƒ†ã‚¹ãƒˆæˆåŠŸï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¯é–¢ä¿‚ãªã„ï¼‰
```

**2. ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãŒå‘ä¸Š**
```
getByRole('button') ã‚’ä½¿ã†
â†“
ãƒœã‚¿ãƒ³ã«æ­£ã—ã„ role ãŒå¿…è¦
â†“
ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼ã§ä½¿ã„ã‚„ã™ããªã‚‹ï¼
```

**3. ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã—ã‚„ã™ã„**
```
å†…éƒ¨ã®å®Ÿè£…ã‚’å¤‰æ›´ã—ã¦ã‚‚ã€
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰è¦‹ãŸå‹•ä½œãŒåŒã˜ãªã‚‰ã€
ãƒ†ã‚¹ãƒˆã¯é€šã‚Šç¶šã‘ã‚‹ï¼
```

### åŸºæœ¬çš„ãªAPI

**1. ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°:**

```typescript
import { render } from '@testing-library/react';

const { getByText, getByRole } = render(<Button>ã‚¯ãƒªãƒƒã‚¯</Button>);
```

**2. è¦ç´ ã®å–å¾—:**

```typescript
// ãƒ†ã‚­ã‚¹ãƒˆã§æ¤œç´¢
const button = getByText('ã‚¯ãƒªãƒƒã‚¯');

// å½¹å‰²ï¼ˆroleï¼‰ã§æ¤œç´¢
const button = getByRole('button', { name: 'ã‚¯ãƒªãƒƒã‚¯' });

// ãƒ©ãƒ™ãƒ«ã§æ¤œç´¢
const input = getByLabelText('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹');
```

**3. ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œ:**

```typescript
import { fireEvent } from '@testing-library/react';

// ã‚¯ãƒªãƒƒã‚¯
fireEvent.click(button);

// å…¥åŠ›
fireEvent.change(input, { target: { value: 'test@example.com' } });
```

**4. éåŒæœŸå‡¦ç†:**

```typescript
import { waitFor } from '@testing-library/react';

// è¦ç´ ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¾ã§å¾…ã¤
await waitFor(() => {
  expect(getByText('èª­ã¿è¾¼ã¿å®Œäº†')).toBeInTheDocument();
});
```

### ãƒ†ã‚¹ãƒˆã®åŸºæœ¬ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆAAAãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰

```typescript
test('ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ãƒ†ã‚­ã‚¹ãƒˆãŒå¤‰ã‚ã‚‹', () => {
  // Arrangeï¼ˆæº–å‚™ï¼‰
  const { getByRole, getByText } = render(<Counter />);
  const button = getByRole('button', { name: 'å¢—ã‚„ã™' });

  // Actï¼ˆå®Ÿè¡Œï¼‰
  fireEvent.click(button);

  // Assertï¼ˆæ¤œè¨¼ï¼‰
  expect(getByText('ã‚«ã‚¦ãƒ³ãƒˆ: 1')).toBeInTheDocument();
});
```

---

## 26.4 Playwrightã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### Playwrightã¨ã¯ï¼Ÿ

**Playwright**ã¯ã€Microsoft ãŒé–‹ç™ºã—ãŸ**E2Eï¼ˆEnd-to-Endï¼‰ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**ã§ã™ã€‚

#### ğŸ“– E2Eãƒ†ã‚¹ãƒˆã£ã¦ä½•ï¼Ÿ

**E2Eï¼ˆEnd-to-Endï¼‰** = æœ€åˆã‹ã‚‰æœ€å¾Œã¾ã§ã€**å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ“ä½œã‚’ãã£ãã‚Šãã®ã¾ã¾**ãƒ†ã‚¹ãƒˆã™ã‚‹ã“ã¨ã€‚

```
å˜ä½“ãƒ†ã‚¹ãƒˆ:
  é–¢æ•°1ã¤ã ã‘ãƒ†ã‚¹ãƒˆ ğŸ”¬
  formatDate() ã¯æ­£ã—ãå‹•ãï¼Ÿ

çµåˆãƒ†ã‚¹ãƒˆ:
  è¤‡æ•°ã®æ©Ÿèƒ½ã®é€£æºã‚’ãƒ†ã‚¹ãƒˆ ğŸ”§
  ãƒ•ã‚©ãƒ¼ãƒ ã¨APIã¯é€£æºã™ã‚‹ï¼Ÿ

E2Eãƒ†ã‚¹ãƒˆ:
  ã‚¢ãƒ—ãƒªå…¨ä½“ã‚’å®Ÿéš›ã«ä½¿ã£ã¦ãƒ†ã‚¹ãƒˆ ğŸŒ
  ãƒ­ã‚°ã‚¤ãƒ³ â†’ æŠ•ç¨¿ä½œæˆ â†’ ã‚³ãƒ¡ãƒ³ãƒˆ â†’ ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
  æœ¬ç‰©ã®ãƒ–ãƒ©ã‚¦ã‚¶ã§å®Ÿéš›ã«æ“ä½œï¼
```

#### ğŸ¯ Playwrightã®å½¹å‰²

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ã‚ãªãŸã®Webã‚¢ãƒ—ãƒªå…¨ä½“                  â”‚
â”‚                                                     â”‚
â”‚  [ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢] â†’ [ãƒ›ãƒ¼ãƒ ] â†’ [æŠ•ç¨¿ä½œæˆ]            â”‚
â”‚        â†“            â†“           â†“                   â”‚
â”‚    èªè¨¼API     ãƒ‡ãƒ¼ã‚¿å–å¾—   ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰        â”‚
â”‚        â†“            â†“           â†“                   â”‚
â”‚    ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹  ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
              Playwrightã§ãƒ†ã‚¹ãƒˆ
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             æœ¬ç‰©ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‚’è‡ªå‹•æ“ä½œ                â”‚
â”‚                                                     â”‚
â”‚  1. ãƒ–ãƒ©ã‚¦ã‚¶ã‚’èµ·å‹•                                 â”‚
â”‚  2. http://localhost:3000/login ã«ç§»å‹•            â”‚
â”‚  3. ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹å…¥åŠ›æ¬„ã« "test@example.com"     â”‚
â”‚  4. ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›æ¬„ã« "password123"              â”‚
â”‚  5. ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯                       â”‚
â”‚  6. ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã«ç§»å‹•ã—ãŸã‹ç¢ºèª                   â”‚
â”‚  7. "ã‚ˆã†ã“ã" ã®æ–‡å­—ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª        â”‚
â”‚                                                     â”‚
â”‚  â†’ äººé–“ãŒã‚„ã‚‹æ“ä½œã‚’è‡ªå‹•ã§ã‚„ã£ã¦ãã‚Œã‚‹ï¼           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸŒŸ Playwrightã®ç‰¹å¾´

**1. ğŸŒ è¤‡æ•°ãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œ**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      1ã¤ã®ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã§               â”‚
â”‚     3ã¤ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ãƒ†ã‚¹ãƒˆï¼            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    test('ãƒ­ã‚°ã‚¤ãƒ³', async ({ page }) => {
      await page.goto('/login');
      ...
    });
           â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Chromium   â”‚  Google Chrome ã¨åŒã˜ã‚¨ãƒ³ã‚¸ãƒ³
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚   Firefox    â”‚  Mozilla Firefox
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚   WebKit     â”‚  Safari ã¨åŒã˜ã‚¨ãƒ³ã‚¸ãƒ³
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ã™ã¹ã¦ã®ãƒ–ãƒ©ã‚¦ã‚¶ã§å‹•ä½œç¢ºèªï¼
â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã©ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ä½¿ã£ã¦ã‚‚å®‰å¿ƒ âœ…
```

**2. âš¡ é«˜é€Ÿãƒ»å®‰å®š**

```
ä»–ã®E2Eãƒ„ãƒ¼ãƒ«:
  ãƒ†ã‚¹ãƒˆãŒä¸å®‰å®š... ğŸ˜­
  ã€Œãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¾ã§å¾…ã£ã¦...ã€
  â†’ æ‰‹å‹•ã§ wait(5000) ã‚’æ›¸ãå¿…è¦ãŒã‚ã‚‹

Playwright:
  è‡ªå‹•ã§å¾…ã£ã¦ãã‚Œã‚‹ï¼ ğŸ˜Š
  await page.click('button')
  â†“
  1. ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¾ã§å¾…ã¤
  2. ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯å¯èƒ½ã«ãªã‚‹ã¾ã§å¾…ã¤
  3. ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹
  
  ã™ã¹ã¦è‡ªå‹•ï¼ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãå¿…è¦ãªã—ï¼
```

**3. ğŸ“¹ ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆãƒ»å‹•ç”»éŒ²ç”»**

```
ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã—ãŸã¨ã:

å¾“æ¥:
  ã€Œãªãœå¤±æ•—ã—ãŸï¼Ÿã€
  ã€Œä½•ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ãŸï¼Ÿã€
  â†’ ã‚ã‹ã‚‰ãªã„... ğŸ˜±

Playwright:
  âœ… ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆãŒè‡ªå‹•ã§ä¿å­˜ã•ã‚Œã‚‹
  âœ… ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã®å‹•ç”»ãŒéŒ²ç”»ã•ã‚Œã‚‹
  
  â†’ å¤±æ•—ã®åŸå› ãŒã™ãã‚ã‹ã‚‹ï¼ ğŸ˜Š
  
await page.screenshot({ path: 'error.png' });
â†“
å¤±æ•—æ™‚ã®ç”»é¢ãŒç”»åƒã§æ®‹ã‚‹ï¼
```

**4. ğŸ­ è‡ªå‹•å¾…æ©Ÿ**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Playwrightã®è‡ªå‹•å¾…æ©Ÿ             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

await page.click('#submit-button');
â†“ ã“ã®1è¡Œã§ã€PlaywrightãŒè‡ªå‹•çš„ã«:

1ï¸âƒ£ ãƒœã‚¿ãƒ³ãŒ DOM ã«å­˜åœ¨ã™ã‚‹ã¾ã§å¾…ã¤
2ï¸âƒ£ ãƒœã‚¿ãƒ³ãŒç”»é¢ã«è¡¨ç¤ºã•ã‚Œã‚‹ã¾ã§å¾…ã¤
3ï¸âƒ£ ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯å¯èƒ½ã«ãªã‚‹ã¾ã§å¾…ã¤
4ï¸âƒ£ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒçµ‚ã‚ã‚‹ã¾ã§å¾…ã¤
5ï¸âƒ£ ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹

â†’ é–‹ç™ºè€…ã¯ä½•ã‚‚è€ƒãˆãªãã¦ã„ã„ï¼
```

**5. ğŸ” å¼·åŠ›ãªã‚»ãƒ¬ã‚¯ã‚¿**

```
è¦ç´ ã‚’è¦‹ã¤ã‘ã‚‹æ–¹æ³•ãŒè±Šå¯Œï¼

// ãƒ†ã‚­ã‚¹ãƒˆã§æ¤œç´¢
await page.getByText('ãƒ­ã‚°ã‚¤ãƒ³');

// å½¹å‰²ï¼ˆroleï¼‰ã§æ¤œç´¢
await page.getByRole('button', { name: 'ãƒ­ã‚°ã‚¤ãƒ³' });

// ãƒ©ãƒ™ãƒ«ã§æ¤œç´¢
await page.getByLabel('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹');

// ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã§æ¤œç´¢
await page.getByPlaceholder('æ¤œç´¢...');

// CSSã‚»ãƒ¬ã‚¯ã‚¿ã‚‚ä½¿ãˆã‚‹
await page.locator('#email-input');

â†’ ã©ã‚“ãªè¦ç´ ã§ã‚‚ç°¡å˜ã«è¦‹ã¤ã‘ã‚‰ã‚Œã‚‹ï¼
```

#### ğŸ’¡ å…·ä½“ä¾‹: ãƒ­ã‚°ã‚¤ãƒ³ã®E2Eãƒ†ã‚¹ãƒˆ

**äººé–“ãŒã‚„ã‚‹æ“ä½œ:**
```
1. ãƒ–ãƒ©ã‚¦ã‚¶ã‚’é–‹ã
2. http://localhost:3000/login ã«ç§»å‹•
3. ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹å…¥åŠ›æ¬„ã« "test@example.com" ã¨å…¥åŠ›
4. ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›æ¬„ã« "password123" ã¨å…¥åŠ›
5. ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
6. ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ï¼ˆ/ï¼‰ã«ç§»å‹•ã—ãŸã‹ç¢ºèª
7. "ã‚ˆã†ã“ã" ã®æ–‡å­—ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
```

**Playwrightã®ã‚³ãƒ¼ãƒ‰:**
```typescript
import { test, expect } from '@playwright/test';

test('ãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹', async ({ page }) => {
  // 1-2. ãƒ–ãƒ©ã‚¦ã‚¶ã‚’é–‹ã„ã¦ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã«ç§»å‹•
  await page.goto('/login');
  
  // 3. ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›
  await page.getByLabel('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹').fill('test@example.com');
  
  // 4. ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›
  await page.getByLabel('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰').fill('password123');
  
  // 5. ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
  await page.getByRole('button', { name: 'ãƒ­ã‚°ã‚¤ãƒ³' }).click();
  
  // 6. ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã«ç§»å‹•ã—ãŸã‹ç¢ºèª
  await expect(page).toHaveURL('/');
  
  // 7. "ã‚ˆã†ã“ã" ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
  await expect(page.getByText('ã‚ˆã†ã“ã')).toBeVisible();
});
```

**ã“ã®7è¡ŒãŒã€äººé–“ã®æ“ä½œãã®ã¾ã¾ï¼**

#### ğŸ¨ Playwrightã®ãƒ†ã‚¹ãƒˆã®æµã‚Œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Step 1: ãƒ–ãƒ©ã‚¦ã‚¶ã‚’èµ·å‹•                â”‚
â”‚                                         â”‚
â”‚   Playwright ãŒè‡ªå‹•çš„ã«èµ·å‹•             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚   â”‚  Chromium ãƒ–ãƒ©ã‚¦ã‚¶     â”‚           â”‚
â”‚   â”‚  (ç©ºç™½ã®ãƒšãƒ¼ã‚¸)        â”‚           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Step 2: ãƒšãƒ¼ã‚¸ã«ç§»å‹•                  â”‚
â”‚                                         â”‚
â”‚   await page.goto('/login');           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚   â”‚  http://localhost:3000 â”‚           â”‚
â”‚   â”‚  /login                â”‚           â”‚
â”‚   â”‚  [ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ ]    â”‚           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Step 3: è¦ç´ ã‚’æ¢ã—ã¦æ“ä½œ              â”‚
â”‚                                         â”‚
â”‚   await page                            â”‚
â”‚     .getByLabel('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹')       â”‚
â”‚     .fill('test@example.com');         â”‚
â”‚                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚   â”‚  [ãƒ¡ãƒ¼ãƒ«: test@exam... â”‚           â”‚
â”‚   â”‚  [ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: â—â—â—â—â—â—] â”‚           â”‚
â”‚   â”‚  [ãƒ­ã‚°ã‚¤ãƒ³]            â”‚           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Step 4: çµæœã‚’ç¢ºèª                    â”‚
â”‚                                         â”‚
â”‚   await expect(page)                    â”‚
â”‚     .toHaveURL('/');                   â”‚
â”‚                                         â”‚
â”‚   âœ… URLãŒ / ã«ãªã£ãŸ                  â”‚
â”‚   âœ… ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸï¼                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸ’¡ ãªãœPlaywrightã‚’ä½¿ã†ã®ï¼Ÿ

**1. æ‰‹å‹•ãƒ†ã‚¹ãƒˆã®å•é¡Œ**
```
é–‹ç™ºè€…: æ–°ã—ã„æ©Ÿèƒ½ã‚’è¿½åŠ ã—ãŸï¼
é–‹ç™ºè€…: å‰ã®æ©Ÿèƒ½ãŒå£Šã‚Œã¦ãªã„ã‹ç¢ºèªã—ãªã„ã¨...

æ‰‹å‹•ã§ç¢ºèª:
  âœ“ ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã‚’é–‹ã
  âœ“ ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹
  âœ“ æŠ•ç¨¿ã‚’ä½œæˆã™ã‚‹
  âœ“ ã‚³ãƒ¡ãƒ³ãƒˆã™ã‚‹
  âœ“ ã„ã„ã­ã™ã‚‹
  âœ“ ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†ã™ã‚‹
  âœ“ ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã™ã‚‹
  
â†’ 30åˆ†ã‹ã‹ã£ãŸ... ğŸ˜«
â†’ ã—ã‹ã‚‚æ¯å›ã“ã®ä½œæ¥­...
```

**2. Playwrightã‚’ä½¿ã†ã¨**
```
é–‹ç™ºè€…: æ–°ã—ã„æ©Ÿèƒ½ã‚’è¿½åŠ ã—ãŸï¼
é–‹ç™ºè€…: npm run test:e2e

Playwright:
  âœ… ãƒ­ã‚°ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆ ... 5ç§’
  âœ… æŠ•ç¨¿ä½œæˆãƒ†ã‚¹ãƒˆ ... 8ç§’
  âœ… ã‚³ãƒ¡ãƒ³ãƒˆãƒ†ã‚¹ãƒˆ ... 3ç§’
  âœ… ã„ã„ã­ãƒ†ã‚¹ãƒˆ ... 2ç§’
  âœ… ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒ†ã‚¹ãƒˆ ... 5ç§’
  âœ… ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãƒ†ã‚¹ãƒˆ ... 2ç§’
  
â†’ å…¨éƒ¨ã§25ç§’ã§å®Œäº†ï¼ ğŸ˜Š
â†’ ã—ã‹ã‚‚è‡ªå‹•ï¼å¯ã¦ã„ã‚‹é–“ã«å®Ÿè¡Œã§ãã‚‹ï¼
```

**3. è¤‡æ•°ãƒ–ãƒ©ã‚¦ã‚¶ã§ç¢ºèª**
```
æ‰‹å‹•:
  Chrome ã§ç¢ºèª â†’ 30åˆ†
  Firefox ã§ç¢ºèª â†’ 30åˆ†
  Safari ã§ç¢ºèª â†’ 30åˆ†
  åˆè¨ˆ: 90åˆ† ğŸ˜±

Playwright:
  npm run test:e2e
  â†’ 3ã¤ã®ãƒ–ãƒ©ã‚¦ã‚¶ã§ä¸¦åˆ—å®Ÿè¡Œ
  â†’ åˆè¨ˆ: 30ç§’ ğŸ˜Š
```

#### ğŸ”„ 3ã¤ã®ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«ã®é–¢ä¿‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                ã‚ãªãŸã®ã‚¢ãƒ—ãƒª                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“ ãƒ†ã‚¹ãƒˆã™ã‚‹å±¤ãŒé•ã† â†“

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Jest      â”‚  â”‚   React      â”‚  â”‚  Playwright  â”‚
â”‚              â”‚  â”‚   Testing    â”‚  â”‚              â”‚
â”‚  é–¢æ•°ãƒ»ãƒ­ã‚¸ãƒƒã‚¯â”‚  â”‚   Library    â”‚  â”‚  ã‚¢ãƒ—ãƒªå…¨ä½“  â”‚
â”‚  ã‚’ãƒ†ã‚¹ãƒˆ    â”‚  â”‚              â”‚  â”‚  ã‚’ãƒ†ã‚¹ãƒˆ    â”‚
â”‚              â”‚  â”‚ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆâ”‚  â”‚              â”‚
â”‚  âš¡ è¶…é«˜é€Ÿ    â”‚  â”‚  ã‚’ãƒ†ã‚¹ãƒˆ    â”‚  â”‚  ğŸ¢ é…ã„     â”‚
â”‚  ğŸ“Š ãŸãã•ã‚“ â”‚  â”‚              â”‚  â”‚  ğŸ“Š å°‘ãªã„   â”‚
â”‚              â”‚  â”‚  âš¡ é€Ÿã„      â”‚  â”‚              â”‚
â”‚              â”‚  â”‚  ğŸ“Š ä¸­ãã‚‰ã„ â”‚  â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

formatDate()     LikeButton       ãƒ­ã‚°ã‚¤ãƒ³ â†’ æŠ•ç¨¿
ãŒæ­£ã—ã„ï¼Ÿ       ãŒæ­£ã—ã„ï¼Ÿ       â†’ ã‚³ãƒ¡ãƒ³ãƒˆå…¨ä½“
```

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm init playwright@latest
```

**è³ªå•ã«ç­”ãˆã‚‹:**
```
âœ” Where to put your end-to-end tests? Â· e2e
âœ” Add a GitHub Actions workflow? Â· true
âœ” Install Playwright browsers? Â· true
```

### Playwrightè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

**playwright.config.ts:**

```typescript
import { defineConfig, devices } from '@playwright/test';

export default defineConfig({
  testDir: './e2e',
  fullyParallel: true,
  forbidOnly: !!process.env.CI,
  retries: process.env.CI ? 2 : 0,
  workers: process.env.CI ? 1 : undefined,
  reporter: 'html',
  use: {
    baseURL: 'http://localhost:3000',
    trace: 'on-first-retry',
  },

  projects: [
    {
      name: 'chromium',
      use: { ...devices['Desktop Chrome'] },
    },
    {
      name: 'firefox',
      use: { ...devices['Desktop Firefox'] },
    },
    {
      name: 'webkit',
      use: { ...devices['Desktop Safari'] },
    },
  ],

  webServer: {
    command: 'npm run dev',
    url: 'http://localhost:3000',
    reuseExistingServer: !process.env.CI,
  },
});
```

**è¨­å®šé …ç›®ã®èª¬æ˜:**

| é …ç›® | èª¬æ˜ |
|------|------|
| `testDir` | ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€ |
| `fullyParallel` | ä¸¦åˆ—å®Ÿè¡Œ |
| `retries` | å¤±æ•—æ™‚ã®ãƒªãƒˆãƒ©ã‚¤å›æ•°ï¼ˆCI: 2å›ï¼‰ |
| `workers` | ãƒ¯ãƒ¼ã‚«ãƒ¼æ•°ï¼ˆä¸¦åˆ—å®Ÿè¡Œæ•°ï¼‰ |
| `baseURL` | ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®URL |
| `trace` | ãƒˆãƒ¬ãƒ¼ã‚¹è¨˜éŒ²ï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰ |
| `projects` | ãƒ†ã‚¹ãƒˆã™ã‚‹ãƒ–ãƒ©ã‚¦ã‚¶ |
| `webServer` | é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®è‡ªå‹•èµ·å‹• |

### package.jsonã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆè¿½åŠ 

```json
{
  "scripts": {
    "test:e2e": "playwright test",
    "test:e2e:ui": "playwright test --ui",
    "test:e2e:debug": "playwright test --debug"
  }
}
```

---

## 26.5 ãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹ã®åŸºæœ¬

### å˜ä½“ãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹

**describe ã¨ it:**

```typescript
describe('formatDateé–¢æ•°', () => {
  it('æ—¥ä»˜ã‚’ YYYY-MM-DD å½¢å¼ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹', () => {
    const result = formatDate(new Date('2025-12-28'));
    expect(result).toBe('2025-12-28');
  });

  it('nullã®å ´åˆã¯ç©ºæ–‡å­—ã‚’è¿”ã™', () => {
    const result = formatDate(null);
    expect(result).toBe('');
  });
});
```

**éšå±¤æ§‹é€ :**

```
describe('formatDateé–¢æ•°')           â† ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ
  â”œâ”€ it('YYYY-MM-DDå½¢å¼')            â† ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹1
  â”‚    â””â”€ expect(...).toBe(...)     â† ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³
  â””â”€ it('nullã®å ´åˆ')                â† ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹2
       â””â”€ expect(...).toBe(...)     â† ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³
```

### E2Eãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹

**test ã¨ expect:**

```typescript
import { test, expect } from '@playwright/test';

test('ãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹', async ({ page }) => {
  // ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã«ç§»å‹•
  await page.goto('/login');

  // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›
  await page.getByLabel('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹').fill('test@example.com');
  await page.getByLabel('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰').fill('password123');

  // ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
  await page.getByRole('button', { name: 'ãƒ­ã‚°ã‚¤ãƒ³' }).click();

  // ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã«é·ç§»ã—ãŸã“ã¨ã‚’ç¢ºèª
  await expect(page).toHaveURL('/');
  await expect(page.getByText('ã‚ˆã†ã“ã')).toBeVisible();
});
```

### ãƒãƒƒãƒãƒ£ãƒ¼ï¼ˆã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ï¼‰

**Jestã®åŸºæœ¬ãƒãƒƒãƒãƒ£ãƒ¼:**

```typescript
// ç­‰ä¾¡æ€§
expect(value).toBe(expected);           // å³å¯†ç­‰ä¾¡ï¼ˆ===ï¼‰
expect(value).toEqual(expected);        // æ·±ã„ç­‰ä¾¡ï¼ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ¯”è¼ƒï¼‰

// çœŸå½å€¤
expect(value).toBeTruthy();             // trueç›¸å½“
expect(value).toBeFalsy();              // falseç›¸å½“
expect(value).toBeNull();               // null
expect(value).toBeUndefined();          // undefined

// æ•°å€¤
expect(value).toBeGreaterThan(3);       // 3ã‚ˆã‚Šå¤§ãã„
expect(value).toBeGreaterThanOrEqual(3);// 3ä»¥ä¸Š
expect(value).toBeLessThan(5);          // 5ã‚ˆã‚Šå°ã•ã„

// æ–‡å­—åˆ—
expect(str).toContain('text');          // å«ã‚€
expect(str).toMatch(/pattern/);         // æ­£è¦è¡¨ç¾ãƒãƒƒãƒ

// é…åˆ—
expect(array).toContain('item');        // è¦ç´ ã‚’å«ã‚€
expect(array).toHaveLength(3);          // é•·ã•ãŒ3

// é–¢æ•°
expect(fn).toThrow();                   // ã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ã‚‹
expect(fn).toHaveBeenCalled();          // å‘¼ã°ã‚ŒãŸ
```

**Playwrightã®ãƒãƒƒãƒãƒ£ãƒ¼:**

```typescript
// ãƒšãƒ¼ã‚¸
await expect(page).toHaveURL('/home');  // URLãŒä¸€è‡´
await expect(page).toHaveTitle('ãƒ›ãƒ¼ãƒ ');// ã‚¿ã‚¤ãƒˆãƒ«ãŒä¸€è‡´

// è¦ç´ 
await expect(element).toBeVisible();    // è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹
await expect(element).toBeHidden();     // éè¡¨ç¤º
await expect(element).toHaveText('OK'); // ãƒ†ã‚­ã‚¹ãƒˆãŒä¸€è‡´
await expect(element).toHaveCount(3);   // è¦ç´ æ•°ãŒ3
```

---

## 26.6 ã¾ã¨ã‚

ã“ã®ç« ã§å­¦ã‚“ã ã“ã¨ï¼š

1. **ãƒ†ã‚¹ãƒˆã®ç¨®é¡**: å˜ä½“ãƒ»çµåˆãƒ»E2Eã®é•ã„ã¨ä½¿ã„åˆ†ã‘
2. **Jest**: å˜ä½“ãƒ†ã‚¹ãƒˆã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
3. **React Testing Library**: Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆ
4. **Playwright**: E2Eãƒ†ã‚¹ãƒˆã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
5. **åŸºæœ¬ãƒ‘ã‚¿ãƒ¼ãƒ³**: describe, it, expect ã®ä½¿ã„æ–¹

æ¬¡ç« ä»¥é™ã§ã€å®Ÿéš›ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ†ã‚¹ãƒˆã‚’æ›¸ã„ã¦ã„ãã¾ã™ï¼

---

## ğŸ’¡ åˆå¿ƒè€…ã¸ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹

### ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«ã®å…¨ä½“åƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ã‚ãªãŸã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³                   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚   é–¢æ•°      â”‚  â”‚ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆâ”‚  â”‚   ãƒšãƒ¼ã‚¸    â”‚        â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚        â”‚
â”‚  â”‚ formatDate()â”‚  â”‚ LikeButton  â”‚  â”‚ /login      â”‚        â”‚
â”‚  â”‚ validate()  â”‚  â”‚ PostForm    â”‚  â”‚ /posts      â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚         â†“                â†“                â†“                â”‚
â”‚    Jest ã§ãƒ†ã‚¹ãƒˆ   React Testing   Playwright ã§ãƒ†ã‚¹ãƒˆ    â”‚
â”‚                    Library ã§ãƒ†ã‚¹ãƒˆ                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Jest      â”‚  â”‚  React Testing  â”‚  â”‚   Playwright     â”‚
â”‚               â”‚  â”‚     Library     â”‚  â”‚                  â”‚
â”‚  å˜ä½“ãƒ†ã‚¹ãƒˆ   â”‚  â”‚   çµåˆãƒ†ã‚¹ãƒˆ    â”‚  â”‚   E2Eãƒ†ã‚¹ãƒˆ      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å®Ÿè¡Œé€Ÿåº¦:     â”‚  â”‚ å®Ÿè¡Œé€Ÿåº¦:       â”‚  â”‚ å®Ÿè¡Œé€Ÿåº¦:        â”‚
â”‚ âš¡âš¡âš¡ è¶…é€Ÿã„   â”‚  â”‚ âš¡âš¡ ã‚„ã‚„é€Ÿã„    â”‚  â”‚ ğŸŒ é…ã„          â”‚
â”‚               â”‚  â”‚                 â”‚  â”‚                  â”‚
â”‚ ãƒ†ã‚¹ãƒˆæ•°:     â”‚  â”‚ ãƒ†ã‚¹ãƒˆæ•°:       â”‚  â”‚ ãƒ†ã‚¹ãƒˆæ•°:        â”‚
â”‚ ğŸ“ŠğŸ“ŠğŸ“Š å¤šã„   â”‚  â”‚ ğŸ“ŠğŸ“Š ä¸­ãã‚‰ã„   â”‚  â”‚ ğŸ“Š å°‘ãªã„        â”‚
â”‚               â”‚  â”‚                 â”‚  â”‚                  â”‚
â”‚ å®‰å®šæ€§:       â”‚  â”‚ å®‰å®šæ€§:         â”‚  â”‚ å®‰å®šæ€§:          â”‚
â”‚ âœ… é«˜ã„       â”‚  â”‚ âš ï¸ ä¸­ãã‚‰ã„     â”‚  â”‚ âŒ ä½ã„          â”‚
â”‚               â”‚  â”‚                 â”‚  â”‚                  â”‚
â”‚ ä½•ã‚’ãƒ†ã‚¹ãƒˆ:   â”‚  â”‚ ä½•ã‚’ãƒ†ã‚¹ãƒˆ:     â”‚  â”‚ ä½•ã‚’ãƒ†ã‚¹ãƒˆ:      â”‚
â”‚ â€¢ é–¢æ•°1ã¤     â”‚  â”‚ â€¢ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆâ”‚  â”‚ â€¢ ã‚¢ãƒ—ãƒªå…¨ä½“     â”‚
â”‚ â€¢ ãƒ­ã‚¸ãƒƒã‚¯    â”‚  â”‚ â€¢ APIé€£æº       â”‚  â”‚ â€¢ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æµã‚Œ â”‚
â”‚ â€¢ ãƒ‡ãƒ¼ã‚¿å¤‰æ›  â”‚  â”‚ â€¢ è¡¨ç¤ºã¨æ“ä½œ    â”‚  â”‚ â€¢ è¤‡æ•°ãƒšãƒ¼ã‚¸     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

        â†“                  â†“                    â†“
   npm test          npm test            npm run test:e2e
  (æ•°ç§’ã§å®Œäº†)       (æ•°åç§’ã§å®Œäº†)        (æ•°åˆ†ã‹ã‹ã‚‹)
```

### å®Ÿéš›ã®é–‹ç™ºã§ã®ä½¿ã„æ–¹

**Step 1: é–‹ç™ºé–‹å§‹ï¼ˆãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºï¼‰**
```
1. ã¾ãšå˜ä½“ãƒ†ã‚¹ãƒˆã‚’æ›¸ãï¼ˆJestï¼‰
   test('formatDate', () => {
     expect(formatDate(new Date('2025-12-28')))
       .toBe('2025-12-28');
   });

2. ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ â†’ å¤±æ•—ï¼ˆã¾ã å®Ÿè£…ã—ã¦ãªã„ã‹ã‚‰ï¼‰

3. é–¢æ•°ã‚’å®Ÿè£…
   function formatDate(date) {
     return date.toISOString().split('T')[0];
   }

4. ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ â†’ æˆåŠŸï¼ âœ…
```

**Step 2: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ**
```
1. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çµåˆãƒ†ã‚¹ãƒˆã‚’æ›¸ãï¼ˆReact Testing Libraryï¼‰
   test('LikeButton', async () => {
     render(<LikeButton postId={1} />);
     await userEvent.click(screen.getByRole('button'));
     expect(screen.getByText('ã„ã„ã­æ¸ˆã¿'))
       .toBeInTheDocument();
   });

2. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®Ÿè£…

3. ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ â†’ æˆåŠŸï¼ âœ…
```

**Step 3: é‡è¦ãªæ©Ÿèƒ½ã®æœ€çµ‚ç¢ºèª**
```
1. E2Eãƒ†ã‚¹ãƒˆã‚’æ›¸ãï¼ˆPlaywrightï¼‰
   test('æŠ•ç¨¿ä½œæˆãƒ•ãƒ­ãƒ¼', async ({ page }) => {
     await page.goto('/login');
     // ãƒ­ã‚°ã‚¤ãƒ³ â†’ æŠ•ç¨¿ä½œæˆ â†’ ç¢ºèª
   });

2. ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ â†’ æˆåŠŸï¼ âœ…

3. è‡ªä¿¡ã‚’æŒã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ ğŸš€
```

### é–‹ç™ºã®æµã‚Œã¨ãƒ†ã‚¹ãƒˆã®é–¢ä¿‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              æ©Ÿèƒ½é–‹ç™ºã®ã‚¹ãƒ†ãƒƒãƒ—                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 1: é–¢æ•°ã‚’ä½œã‚‹
  â†“ Jest ã§å˜ä½“ãƒ†ã‚¹ãƒˆï¼ˆ10ç§’ï¼‰
  âœ… é–¢æ•°ãŒæ­£ã—ãå‹•ã

Step 2: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã‚‹
  â†“ React Testing Library ã§çµåˆãƒ†ã‚¹ãƒˆï¼ˆ30ç§’ï¼‰
  âœ… ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹

Step 3: ãƒšãƒ¼ã‚¸ã‚’ä½œã‚‹
  â†“ Playwright ã§ E2E ãƒ†ã‚¹ãƒˆï¼ˆ2åˆ†ï¼‰
  âœ… ãƒšãƒ¼ã‚¸å…¨ä½“ãŒæ­£ã—ãå‹•ã

Step 4: ãƒ‡ãƒ—ãƒ­ã‚¤ ğŸš€
  â†“ CI/CD ã§è‡ªå‹•ãƒ†ã‚¹ãƒˆï¼ˆ5åˆ†ï¼‰
  âœ… ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆãŒæˆåŠŸ
  âœ… æœ¬ç•ªç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†ï¼
```

### å°ã•ãå§‹ã‚ã‚‹

ãƒ†ã‚¹ãƒˆã¯ä¸€åº¦ã«ã™ã¹ã¦æ›¸ãå¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

**æ¨å¥¨ã™ã‚‹é †ç•ª:**
```
Week 1: å˜ä½“ãƒ†ã‚¹ãƒˆã‹ã‚‰å§‹ã‚ã‚‹
  âœ… formatDate() ã®ãƒ†ã‚¹ãƒˆ
  âœ… validateEmail() ã®ãƒ†ã‚¹ãƒˆ
  â†’ å°ã•ã„é–¢æ•°ã‹ã‚‰æ…£ã‚Œã‚‹

Week 2: ç°¡å˜ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ†ã‚¹ãƒˆ
  âœ… Button ã®ãƒ†ã‚¹ãƒˆ
  âœ… Card ã®ãƒ†ã‚¹ãƒˆ
  â†’ ã‚¯ãƒªãƒƒã‚¯ã€è¡¨ç¤ºã®ãƒ†ã‚¹ãƒˆ

Week 3: ãƒ•ã‚©ãƒ¼ãƒ ã‚’ãƒ†ã‚¹ãƒˆ
  âœ… LoginForm ã®ãƒ†ã‚¹ãƒˆ
  âœ… PostForm ã®ãƒ†ã‚¹ãƒˆ
  â†’ å…¥åŠ›ã€é€ä¿¡ã®ãƒ†ã‚¹ãƒˆ

Week 4: E2Eãƒ†ã‚¹ãƒˆã«æŒ‘æˆ¦
  âœ… ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ãƒ­ãƒ¼ã®ãƒ†ã‚¹ãƒˆ
  â†’ æœ€åˆã¯1ã¤ã ã‘ã§OK
```

### ã‚ˆãã‚ã‚‹é–“é•ã„

**âŒ é–“é•ã„1: 100% ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’ç›®æŒ‡ã™**
```
ã™ã¹ã¦ã®ã‚³ãƒ¼ãƒ‰ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ï¼

å„ªå…ˆåº¦:
  âœ… é‡è¦ãªæ©Ÿèƒ½ï¼ˆãƒ­ã‚°ã‚¤ãƒ³ã€æ±ºæ¸ˆãªã©ï¼‰
  âœ… ã‚ˆãä½¿ã‚ã‚Œã‚‹æ©Ÿèƒ½
  âœ… ãƒã‚°ãŒèµ·ãã‚„ã™ã„ç®‡æ‰€

  âŒ å˜ç´”ãªGetter/Setter
  âŒ ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
  âŒ å®šæ•°ã®å®šç¾©
```

**âŒ é–“é•ã„2: E2Eãƒ†ã‚¹ãƒˆã°ã‹ã‚Šæ›¸ã**
```
E2Eãƒ†ã‚¹ãƒˆã¯é…ãã¦ä¸å®‰å®šï¼

âŒ ã™ã¹ã¦ã‚’E2Eã§ãƒ†ã‚¹ãƒˆ â†’ 1æ™‚é–“ã‹ã‹ã‚‹
âœ… ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰ã«å¾“ã† â†’ 3åˆ†ã§å®Œäº†

70% å˜ä½“ãƒ†ã‚¹ãƒˆ
20% çµåˆãƒ†ã‚¹ãƒˆ
10% E2Eãƒ†ã‚¹ãƒˆ
```

**âŒ é–“é•ã„3: å®Ÿè£…ã®è©³ç´°ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹**
```
âŒ æ‚ªã„ä¾‹:
  expect(component.state.count).toBe(1);
  â†’ stateã¯å®Ÿè£…ã®è©³ç´°

âœ… è‰¯ã„ä¾‹:
  expect(screen.getByText('ã‚«ã‚¦ãƒ³ãƒˆ: 1'))
    .toBeInTheDocument();
  â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã‚‹ã‚‚ã®
```

### å¤±æ•—ã‹ã‚‰å­¦ã¶

```
ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã™ã‚‹ã®ã¯æ­£å¸¸ã§ã™ï¼

Step 1: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’èª­ã‚€
  âŒ Expected: 'test@example.com'
  âŒ Received: 'testexample.com'
  
  â†’ ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã® @ ãŒæŠœã‘ã¦ã„ã‚‹ï¼

Step 2: åŸå› ã‚’ç‰¹å®š
  validate() é–¢æ•°ã®ãƒã‚°ã‚’ç™ºè¦‹

Step 3: ä¿®æ­£
  é–¢æ•°ã‚’ç›´ã™

Step 4: å†ãƒ†ã‚¹ãƒˆ
  âœ… ãƒ†ã‚¹ãƒˆãŒæˆåŠŸï¼

â†’ ãƒã‚°ã‚’æ—©æœŸç™ºè¦‹ã§ããŸï¼ ğŸ‰
```

### TDDï¼ˆãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºï¼‰ã‚‚è©¦ã—ã¦ã¿ã‚ˆã†

æ…£ã‚Œã¦ããŸã‚‰ã€**ãƒ†ã‚¹ãƒˆã‚’å…ˆã«æ›¸ã**æ–¹æ³•ã‚‚è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```
å¾“æ¥ã®é–‹ç™º:
  1. ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã
  2. ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
  3. ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ

TDDï¼ˆãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºï¼‰:
  1. ãƒ†ã‚¹ãƒˆã‚’æ›¸ãï¼ˆã¾ã å¤±æ•—ã™ã‚‹ï¼‰
  2. ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã
  3. ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œï¼ˆæˆåŠŸï¼ï¼‰
  
ãƒ¡ãƒªãƒƒãƒˆ:
  âœ… å¿…è¦ãªæ©Ÿèƒ½ã ã‘å®Ÿè£…ã§ãã‚‹
  âœ… ãƒ†ã‚¹ãƒˆã—ã‚„ã™ã„ã‚³ãƒ¼ãƒ‰ã«ãªã‚‹
  âœ… ãƒã‚°ãŒå°‘ãªããªã‚‹
```
